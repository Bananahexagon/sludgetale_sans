const L=(e,t)=>{const c=(i,n,s)=>{i()?(e(),n(),t(),requestAnimationFrame(()=>c(i,n,s))):s()},d=(i,n)=>new Promise(s=>{c(i,n,s)}),h=(i,n,s,a)=>{s<i?(e(),n(s),t(),requestAnimationFrame(()=>h(i,n,s+1,a))):a()},l=(i,n,s=0)=>new Promise(a=>{h(i,n,s,a)}),p=i=>{e(),i(),t(),requestAnimationFrame(()=>p(i))};return{frameWhile:d,frameFor:l,frameLoop:p}},A=[{type:"image",name:"soul",src:"./assets/images/soul.png"},{type:"image",name:"soul_blue",src:"./assets/images/soul_blue.png"},{type:"image",name:"commands",src:"./assets/images/commands.png"},{type:"image",name:"back",src:"./assets/images/back.png"},{type:"image",name:"sans",src:"./assets/images/sans.png"},{type:"image",name:"hp_kr_purple",src:"./assets/images/hp_kr_purple.png"},{type:"image",name:"determination_white",src:"./assets/images/font/determination_white.png"},{type:"image",name:"determination_red",src:"./assets/images/font/determination_red.png"},{type:"image",name:"determination_orange",src:"./assets/images/font/determination_orange.png"},{type:"image",name:"determination_blue",src:"./assets/images/font/determination_blue.png"},{type:"image",name:"determination_yellow",src:"./assets/images/font/determination_yellow.png"},{type:"image",name:"status_white",src:"./assets/images/font/status_white.png"},{type:"image",name:"status_red",src:"./assets/images/font/status_red.png"},{type:"image",name:"status_orange",src:"./assets/images/font/status_orange.png"},{type:"image",name:"status_blue",src:"./assets/images/font/status_blue.png"},{type:"image",name:"status_yellow",src:"./assets/images/font/status_yellow.png"},{type:"image",name:"status_purple",src:"./assets/images/font/status_purple.png"},{type:"image",name:"kr_white",src:"./assets/images/kr_white.png"},{type:"image",name:"hp_white",src:"./assets/images/hp_white.png"},{type:"image",name:"bone_head_white",src:"./assets/images/bone_head_white.png"},{type:"image",name:"bananahexagon",src:"./assets/images/normal_icon.png"},{type:"image",name:"death_0",src:"./assets/images/death_0.png"},{type:"image",name:"death_1",src:"./assets/images/death_1.png"},{type:"image",name:"death_2",src:"./assets/images/death_2.png"},{type:"image",name:"death_3",src:"./assets/images/death_3.png"},{type:"image",name:"death_4",src:"./assets/images/death_4.png"},{type:"image",name:"gb_1",src:"./assets/images/gb_1.png"},{type:"image",name:"gb_2",src:"./assets/images/gb_2.png"},{type:"image",name:"gb_3",src:"./assets/images/gb_3.png"},{type:"image",name:"gb_4",src:"./assets/images/gb_4.png"},{type:"image",name:"gb_5",src:"./assets/images/gb_5.png"},{type:"image",name:"gb_6",src:"./assets/images/gb_6.png"},{type:"audio",name:"damage",src:"./assets/audios/p_damage.wav"},{type:"audio",name:"heartbreak_1",src:"./assets/audios/heartbreak_1.wav"},{type:"audio",name:"heartbreak_2",src:"./assets/audios/heartbreak_2.wav"},{type:"audio",name:"gb_charge",src:"./assets/audios/gb_charge.wav"},{type:"audio",name:"gb_fire",src:"./assets/audios/gb_fire.wav"},{type:"audio",name:"cursor_move",src:"./assets/audios/cursor_move.wav"},{type:"audio",name:"cursor_confirm",src:"./assets/audios/cursor_confirm.wav"}],P=async e=>{const t={},c={},d={},h=A,l=[];return console.log(h),h.forEach(p=>l.push(new Promise(i=>{switch(p.type){case"image":{const n=new Image;n.src=p.src,n.onload=()=>{t[p.name]=n,i()}}break;case"audio":{const n=new Audio(p.src);n.autoplay=!1,n.muted=!0,console.log(n),n.addEventListener("loadeddata",()=>{n.muted=!1,(async()=>{const a=await(await fetch(p.src)).arrayBuffer();c[p.name]={ctx:await e.decodeAudioData(a),data:n,time:1/0},n.onload=()=>i()})().then(i)})}break;case"font":(async()=>{const a=await(await(await fetch(p.src)).text()).match(/url\(.+?\)/g);if(!a)throw new Error("フォントが見つかりませんでした");const g=[];a.forEach(o=>{g.push((async()=>{const r=new FontFace(p.name,o);await r.load(),d[p.name]=r,await document.fonts.add(r)})())}),Promise.all(g)})().then(i);break}}))),await Promise.all(l),{Images:t,Audios:c,Fonts:d}},m=e=>Math.sin(e/360*Math.PI*2),y=e=>Math.cos(e/360*Math.PI*2),E=(e,t,c,d,h,l)=>{const p=(a,g,o,r=0,f=100,_=1,u="center",b,v=!1)=>{if(v){const w=c[a],[x,k,$,q]=b===void 0?[0,0,w.width,w.height]:[b.left,b.top,b.width,b.height];switch(t.globalAlpha=_,u){case"center":t.save(),t.translate(g*h.display_quality,-o*h.display_quality+e.height),t.rotate(r*Math.PI/180),t.drawImage(w,x,k,$,q,-$*f/200*h.display_quality,-q*f/200*h.display_quality,$*f/100*h.display_quality,q*f/100*h.display_quality),t.restore();break;case"start":t.save(),t.translate(g*h.display_quality,-o*h.display_quality+e.height),t.rotate(r*Math.PI/180),t.drawImage(w,x,k,$,q,0,0,$*f/100*h.display_quality,q*f/100*h.display_quality),t.restore()}}else{const w=(y(l.d)*g-m(l.d)*o+l.x)*l.size/100,x=(m(l.d)*g+y(l.d)*o+l.y)*l.size/100,k=r+l.d;p(a,w,x,k,f*l.size/100,_,u,b,!0)}};return{stamp:p,drawRect:(a,g,o,r,f,_=0,u,b="center")=>{switch(t.globalAlpha=u===void 0?1:u,t.save(),b){case"center++":t.translate(a*h.display_quality,-g*h.display_quality+e.height),t.rotate(_*Math.PI/180),t.beginPath(),t.rect(-o/2*h.display_quality,-r/2*h.display_quality,o*h.display_quality,r*h.display_quality);break;case"center":t.translate((a-o/2)*h.display_quality,-(g-r/2)*h.display_quality+e.height),t.rotate(_*Math.PI/180),t.beginPath(),t.rect(0,0,o*h.display_quality,-r*h.display_quality);break;case"start":default:t.translate(a*h.display_quality,-g*h.display_quality+e.height),t.rotate(_*Math.PI/180),t.beginPath(),t.rect(0,0,o*h.display_quality,-r*h.display_quality);break}t.fillStyle=f,t.fill(),t.restore()},drawLine:(a,g,o,r,f,_,u=0)=>{switch(t.globalAlpha=1,t.beginPath(),u){case 0:t.moveTo((a-r*Math.sin(o)/2)*h.display_quality,-(g+r*Math.cos(o)/2)*h.display_quality+e.height),t.lineTo((a+r*Math.sin(o)/2)*h.display_quality,-(g-r*Math.cos(o)/2)*h.display_quality+e.height);break;case 1:t.moveTo(a*h.display_quality,-g*h.display_quality+e.height),t.lineTo((a+r*Math.sin(o))*h.display_quality,-(g-r*Math.cos(o))*h.display_quality+e.height);break}t.strokeStyle=_,t.lineWidth=f*h.display_quality,t.stroke()},drawText:(a,g,o,r,f,_="serif",u="left")=>{t.globalAlpha=1;const[b,v]=[g*h.display_quality,-o*h.display_quality+e.height];t.font=`${r*h.display_quality}px ${_}`,t.textAlign=u,t.fillStyle=f,t.fillText(a,b,v)}}},D=e=>{class t{constructor(d,h,l=0,p=100,i="",n=!1,s){this.x=d,this.y=h,this.d=l,this.size=p,this.costume=i,this.visible=n,this.act_=s}stamp(){this.visible&&e.stamp(this.costume,this.x,this.y,this.d,this.size)}move(d){this.x+=m(this.d)*d,this.y+=y(this.d)*d}act(){(this.act_||(()=>{}))(this)}}return t},F=(e,t,c)=>({raw_to_stage:(h,l,p=0)=>{const i=e.getBoundingClientRect(),n=((h-i.left)/c.size*100-c.x)*t.stage_width/t.display_width,s=(t.display_height-((l-i.top)/c.size*100-c.y))*t.stage_height/t.display_height,a=p+c.d;return{x:n,y:s,d:a}}}),I=e=>{const t=new(window.AudioContext||window.webkitAudioContext);return{play:(h,l=0,p=1)=>{if(l<=e[h].time){const i=t.createGain(),n=t.createBufferSource();n.buffer=e[h].ctx,i.gain.setValueAtTime(p,t.currentTime),n.connect(i),i.connect(t.destination),n.start(0),e[h].time=0}},tick:()=>{for(const h in e)e[h].time++}}},R=async e=>{const t=document.getElementById(e.canvas_name);t.height=e.stage_height*e.display_quality,t.width=e.stage_width*e.display_quality;const c=t.getContext("2d"),d=new(window.AudioContext||window.webkitAudioContext),{Images:h,Audios:l,Fonts:p}=await P(d),i={up:!1,down:!1,left:!1,right:!1,z:!1,x:!1,c:!1,d:!1,f:{up:!1,down:!1,left:!1,right:!1,z:!1,x:!1,c:!1,d:!1}},n={x:0,y:0,clicking:!1,is_in_rect(w,x,k,$,q="center"){switch(q){case"center":return w-k/2<this.x&&this.x<w+k/2&&x-$/2<this.y&&this.y<x+$/2;case"start":default:return w<this.x&&this.x<w+k&&x<this.y&&this.y<x+$}}},s={canvas:{size:100,x:0,y:0,d:0}},a=E(t,c,h,p,e,s.canvas),g=I(l),o=D(a);c.imageSmoothingEnabled=!1;const r=F(t,e,s.canvas);window.addEventListener("keydown",w=>{switch(w.key){case"ArrowUp":i.up=!0,i.f.up=!0;break;case"ArrowDown":i.down=!0,i.f.down=!0;break;case"ArrowLeft":i.left=!0,i.f.left=!0;break;case"ArrowRight":i.right=!0,i.f.right=!0;break;case"z":case"Z":i.z=!0,i.f.z=!0;break;case"x":case"X":i.x=!0,i.f.x=!0;break;case"c":case"C":i.c=!0,i.f.c=!0;break;case"d":case"D":i.d=!0,i.f.d=!0;break}}),window.addEventListener("keyup",w=>{switch(w.key){case"ArrowUp":i.up=!1;break;case"ArrowDown":i.down=!1;break;case"ArrowLeft":i.left=!1;break;case"ArrowRight":i.right=!1;break;case"z":case"Z":i.z=!1;break;case"x":case"X":i.x=!1;break;case"c":case"C":i.c=!1;break;case"d":case"D":i.d=!1;break}}),t.addEventListener("mousedown",w=>{n.clicking=!0;const x=r.raw_to_stage(w.x,w.y);n.x=x.x,n.y=x.y}),t.addEventListener("mousemove",w=>{const x=r.raw_to_stage(w.x,w.y);n.x=x.x,n.y=x.y}),t.addEventListener("mouseup",w=>{n.clicking=!1;const x=r.raw_to_stage(w.x,w.y);n.x=x.x,n.y=x.y});let f,_;{let w={up:!1,down:!1,left:!1,right:!1,z:!1,x:!1,c:!1,d:!1};f=()=>{["up","down","left","right","z","x","c","d"].forEach(x=>{w[x]&&(i.f[x]=!1)}),w={...i.f}},_=()=>{g.tick()}}const{frameWhile:u,frameFor:b,frameLoop:v}=L(f,_);return{canvas:t,ctx:c,Images:h,Audios:l,Fonts:p,inputKeys:i,inputMouse:n,props:s,cLib:a,aLib:g,Sprite:o,for:b,while:u,loop:v}},S=2,B=640,C=480,G=800,j=400,T="canvas",K={display_quality:S,stage_width:B,stage_height:C,display_width:G,display_height:j,canvas_name:T},W=(e,t,c,d)=>{let h={};const l=class M extends c{constructor(s,a,g,o,r,f,_,u,b,v){super(s,a,g,o,void 0,!0),this.start_x=s,this.start_y=a,this.start_d=g,this.move_x=f,this.move_y=_,this.move_d=u,this.start_len=r,this.move_len=b,this.len=r,this.age=0,this.id=M.current_id,this.width=o,h[this.id]=this,M.current_id++}move_self(){this.age++,this.x=this.start_x+M.get_move(this.move_x,this.age),this.y=this.start_y+M.get_move(this.move_y,this.age),this.d=this.start_d+M.get_move(this.move_d,this.age),this.len=this.start_len+M.get_move(this.move_len,this.age)}draw(){y(this.d),e.stamp("bone_head_white",this.x+y(this.d)*this.width*8/6,this.y-m(this.d)*this.width*8/6,this.d+180,this.width*100/6,1,"start"),e.drawRect(this.x+m(this.d)*this.width*6/6,this.y+y(this.d)*this.width*6/6,this.width,this.len+this.width*2/6,"white",this.d,1,"start"),e.stamp("bone_head_white",this.x+m(this.d)*(this.len+this.width*14/6)-y(this.d)*this.width*2/6,this.y+y(this.d)*(this.len+this.width*14/6)+m(this.d)*this.width*2/6,this.d,this.width*100/6,1,"start")}judge(){{const s=d.soul.x-this.x,a=d.soul.y-this.y,g=s*y(this.d)+a*-m(this.d),o=a*y(this.d)+s*m(this.d);this.len+this.width*14/6>o&&o>0&&this.width>g&&g>0&&d.damage(2)}}static process(){for(const s in h){const a=h[s];a.move_self(),a.draw(),a.judge()}}static get_move(s,a){if(typeof s=="number")return s*a;switch(s.type){case"sin":case"cos":return m(s.cycle*a)*s.amp;case"custom":return s.fn(a)}}};l.current_id=0;let p=l;return{boneDict:h,normal:p,process:()=>{p.process()}}},U={height_basic:15,width_basic:2,name:"determination"},V={left:10,up:34,width:6,height:9,gap:0},X={left:20,up:34,width:6,height:9,gap:0},Z={left:30,up:34,width:6,height:9,gap:0},N={left:40,up:34,width:6,height:9,gap:0},H={left:50,up:34,width:6,height:9,gap:0},J={left:60,up:34,width:6,height:9,gap:0},O={left:70,up:34,width:6,height:9,gap:0},Q={left:80,up:34,width:6,height:9,gap:0},Y={left:90,up:34,width:6,height:9,gap:0},tt={left:100,up:34,width:6,height:9,gap:0},et={left:110,up:34,width:6,height:9,gap:0},st={left:120,up:34,width:6,height:9,gap:0},it={left:130,up:34,width:7,height:9,gap:0},ht={left:140,up:34,width:6,height:9,gap:0},at={left:150,up:34,width:6,height:9,gap:0},nt={left:0,up:50,width:6,height:9,gap:0},lt={left:10,up:50,width:6,height:9,gap:0},pt={left:20,up:50,width:6,height:9,gap:0},gt={left:30,up:50,width:6,height:9,gap:0},ot={left:40,up:50,width:6,height:9,gap:0},dt={left:50,up:50,width:6,height:9,gap:0},rt={left:60,up:50,width:6,height:9,gap:0},ct={left:70,up:50,width:7,height:9,gap:0},ut={left:80,up:50,width:6,height:9,gap:0},wt={left:90,up:50,width:6,height:9,gap:0},_t={left:100,up:50,width:6,height:9,gap:0},ft={left:10,up:68,width:6,height:7,gap:2},mt={left:20,up:66,width:6,height:9,gap:0},yt={left:30,up:68,width:6,height:7,gap:2},bt={left:40,up:66,width:6,height:9,gap:0},xt={left:50,up:68,width:6,height:7,gap:2},vt={left:60,up:66,width:6,height:9,gap:0},$t={left:70,up:68,width:6,height:10,gap:5},kt={left:80,up:66,width:6,height:9,gap:0},qt={left:90,up:65,width:6,height:10,gap:-1},Mt={left:100,up:65,width:6,height:13,gap:2},zt={left:110,up:66,width:6,height:9,gap:0},Lt={left:120,up:66,width:6,height:9,gap:0},At={left:130,up:68,width:7,height:7,gap:2},Pt={left:140,up:68,width:6,height:7,gap:2},Et={left:150,up:68,width:6,height:7,gap:2},Dt={left:0,up:84,width:6,height:10,gap:2},Ft={left:10,up:84,width:6,height:10,gap:2},It={left:20,up:84,width:6,height:7,gap:2},Rt={left:30,up:84,width:6,height:7,gap:2},St={left:40,up:82,width:6,height:9,gap:0},Bt={left:50,up:84,width:6,height:7,gap:2},Ct={left:60,up:84,width:6,height:7,gap:2},Gt={left:70,up:84,width:7,height:7,gap:2},jt={left:80,up:84,width:6,height:7,gap:2},Tt={left:90,up:84,width:6,height:10,gap:2},Kt={left:100,up:84,width:6,height:7,gap:2},Wt={left:0,up:0,width:1,height:1,gap:0},Ut={left:150,up:82,width:6,height:9,gap:0},Vt={left:40,up:0,width:6,height:13,gap:0},Xt={left:150,up:61,width:4,height:1,gap:14},Zt={0:{left:0,up:18,width:6,height:9,gap:0},1:{left:10,up:18,width:6,height:9,gap:0},2:{left:20,up:18,width:6,height:9,gap:0},3:{left:30,up:18,width:6,height:9,gap:0},4:{left:40,up:18,width:6,height:9,gap:0},5:{left:50,up:18,width:6,height:9,gap:0},6:{left:60,up:18,width:6,height:9,gap:0},7:{left:70,up:18,width:6,height:9,gap:0},8:{left:80,up:18,width:6,height:9,gap:0},9:{left:90,up:18,width:6,height:9,gap:0},props:U,A:V,B:X,C:Z,D:N,E:H,F:J,G:O,H:Q,I:Y,J:tt,K:et,L:st,M:it,N:ht,O:at,P:nt,Q:lt,R:pt,S:gt,T:ot,U:dt,V:rt,W:ct,X:ut,Y:wt,Z:_t,a:ft,b:mt,c:yt,d:bt,e:xt,f:vt,g:$t,h:kt,i:qt,j:Mt,k:zt,l:Lt,m:At,n:Pt,o:Et,p:Dt,q:Ft,r:It,s:Rt,t:St,u:Bt,v:Ct,w:Gt,x:jt,y:Tt,z:Kt,space:Wt,irregular:Ut,"!":{left:10,up:1,width:4,height:10,gap:-1},'"':{left:20,up:2,width:5,height:4,gap:-5},"#":{left:30,up:2,width:7,height:9,gap:0},$:Vt,"%":{left:50,up:2,width:7,height:9,gap:0},"&":{left:60,up:2,width:7,height:9,gap:0},"'":{left:70,up:2,width:2,height:4,gap:-5},"(":{left:80,up:2,width:4,height:9,gap:0},")":{left:90,up:2,width:4,height:9,gap:0},"*":{left:100,up:4,width:8,height:5,gap:0},"+":{left:110,up:4,width:6,height:5,gap:0},",":{left:120,up:9,width:2,height:4,gap:7},"-":{left:130,up:6,width:5,height:1,gap:0},".":{left:140,up:9,width:2,height:2,gap:7},"/":{left:150,up:2,width:6,height:10,gap:1},":":{left:100,up:20,width:2,height:7,gap:2},";":{left:110,up:20,width:2,height:9,gap:4},"<":{left:120,up:18,width:5,height:9,gap:0},"=":{left:130,up:21,width:5,height:3,gap:0},">":{left:140,up:18,width:5,height:9,gap:0},"?":{left:150,up:18,width:6,height:9,gap:0},"@":{left:0,up:34,width:6,height:9,gap:0},"[":{left:110,up:50,width:4,height:9,gap:0},"\\":{left:120,up:50,width:6,height:10,gap:1},"]":{left:130,up:50,width:4,height:9,gap:0},"^":{left:140,up:49,width:6,height:4,gap:-5},_:Xt,"`":{left:10,up:68,width:3,height:2,gap:2},"{":{left:110,up:82,width:5,height:9,gap:0},"|":{left:120,up:82,width:2,height:9,gap:0},"}":{left:130,up:82,width:5,height:9,gap:0},"~":{left:140,up:85,width:7,height:2,gap:-1}},Nt={height_basic:6,width_basic:1,name:"status"},Ht={left:6,up:14,width:4,height:5,gap:0},Jt={left:12,up:14,width:4,height:5,gap:0},Ot={left:18,up:14,width:4,height:5,gap:0},Qt={left:24,up:14,width:4,height:5,gap:0},Yt={left:30,up:14,width:4,height:5,gap:0},te={left:36,up:14,width:4,height:5,gap:0},ee={left:42,up:14,width:4,height:5,gap:0},se={left:48,up:14,width:4,height:5,gap:0},ie={left:54,up:14,width:4,height:5,gap:0},he={left:60,up:14,width:4,height:5,gap:0},ae={left:66,up:14,width:4,height:5,gap:0},ne={left:72,up:14,width:4,height:5,gap:0},le={left:78,up:14,width:5,height:5,gap:0},pe={left:84,up:14,width:4,height:5,gap:0},ge={left:90,up:14,width:4,height:5,gap:0},oe={left:0,up:21,width:4,height:5,gap:0},de={left:6,up:21,width:4,height:5,gap:0},re={left:12,up:21,width:4,height:5,gap:0},ce={left:18,up:21,width:4,height:5,gap:0},ue={left:24,up:21,width:4,height:5,gap:0},we={left:30,up:21,width:4,height:5,gap:0},_e={left:36,up:21,width:4,height:5,gap:0},fe={left:42,up:21,width:5,height:5,gap:0},me={left:48,up:21,width:4,height:5,gap:0},ye={left:54,up:21,width:4,height:5,gap:0},be={left:60,up:21,width:4,height:5,gap:0},xe={left:6,up:28,width:4,height:5,gap:0},ve={left:12,up:28,width:4,height:5,gap:0},$e={left:18,up:28,width:4,height:5,gap:0},ke={left:24,up:28,width:4,height:5,gap:0},qe={left:30,up:28,width:4,height:5,gap:0},Me={left:36,up:28,width:4,height:5,gap:0},ze={left:42,up:28,width:4,height:5,gap:0},Le={left:48,up:28,width:4,height:5,gap:0},Ae={left:54,up:28,width:4,height:5,gap:0},Pe={left:60,up:28,width:4,height:5,gap:0},Ee={left:66,up:28,width:4,height:5,gap:0},De={left:72,up:28,width:4,height:5,gap:0},Fe={left:78,up:28,width:5,height:5,gap:0},Ie={left:84,up:28,width:4,height:5,gap:0},Re={left:90,up:28,width:4,height:5,gap:0},Se={left:0,up:35,width:4,height:5,gap:0},Be={left:6,up:35,width:4,height:5,gap:0},Ce={left:12,up:35,width:4,height:5,gap:0},Ge={left:18,up:35,width:4,height:5,gap:0},je={left:24,up:35,width:4,height:5,gap:0},Te={left:30,up:35,width:4,height:5,gap:0},Ke={left:36,up:35,width:4,height:5,gap:0},We={left:42,up:35,width:5,height:5,gap:0},Ue={left:48,up:35,width:4,height:5,gap:0},Ve={left:54,up:35,width:4,height:5,gap:0},Xe={left:60,up:35,width:4,height:5,gap:0},Ze={left:0,up:0,width:4,height:1,gap:0},Ne={left:90,up:35,width:4,height:5,gap:0},He={left:24,up:0,width:5,height:5,gap:0},Je={left:90,up:25,width:4,height:1,gap:4},Oe={0:{left:0,up:7,width:4,height:5,gap:0},1:{left:6,up:7,width:4,height:5,gap:0},2:{left:12,up:7,width:4,height:5,gap:0},3:{left:18,up:7,width:4,height:5,gap:0},4:{left:24,up:7,width:4,height:5,gap:0},5:{left:30,up:7,width:4,height:5,gap:0},6:{left:36,up:7,width:4,height:5,gap:0},7:{left:42,up:7,width:4,height:5,gap:0},8:{left:48,up:7,width:4,height:5,gap:0},9:{left:54,up:7,width:4,height:5,gap:0},props:Nt,A:Ht,B:Jt,C:Ot,D:Qt,E:Yt,F:te,G:ee,H:se,I:ie,J:he,K:ae,L:ne,M:le,N:pe,O:ge,P:oe,Q:de,R:re,S:ce,T:ue,U:we,V:_e,W:fe,X:me,Y:ye,Z:be,a:xe,b:ve,c:$e,d:ke,e:qe,f:Me,g:ze,h:Le,i:Ae,j:Pe,k:Ee,l:De,m:Fe,n:Ie,o:Re,p:Se,q:Be,r:Ce,s:Ge,t:je,u:Te,v:Ke,w:We,x:Ue,y:Ve,z:Xe,space:Ze,irregular:Ne,"!":{left:6,up:0,width:4,height:5,gap:0},'"':{left:12,up:0,width:3,height:2,gap:0},"#":{left:18,up:0,width:5,height:5,gap:0},$:He,"%":{left:30,up:1,width:4,height:4,gap:1},"&":{left:36,up:0,width:5,height:5,gap:0},"'":{left:42,up:0,width:1,height:2,gap:-3},"(":{left:48,up:0,width:3,height:5,gap:0},")":{left:54,up:0,width:3,height:5,gap:0},"*":{left:60,up:0,width:5,height:5,gap:0},"+":{left:66,up:0,width:5,height:5,gap:0},",":{left:72,up:3,width:1,height:2,gap:3},"-":{left:78,up:2,width:5,height:1,gap:0},".":{left:84,up:4,width:1,height:1,gap:4},"/":{left:90,up:1,width:4,height:4,gap:1},":":{left:60,up:8,width:1,height:3,gap:0},";":{left:66,up:8,width:1,height:4,gap:1},"<":{left:72,up:7,width:3,height:5,gap:0},"=":{left:78,up:8,width:5,height:3,gap:0},">":{left:84,up:7,width:3,height:5,gap:0},"?":{left:90,up:7,width:4,height:5,gap:0},"@":{left:0,up:14,width:4,height:5,gap:0},"[":{left:66,up:21,width:4,height:5,gap:0},"\\":{left:72,up:22,width:4,height:4,gap:1},"]":{left:78,up:21,width:4,height:5,gap:0},"^":{left:84,up:21,width:5,height:3,gap:-1},_:Je,"`":{left:0,up:27,width:1,height:2,gap:-5},"{":{left:66,up:35,width:3,height:5,gap:0},"|":{left:72,up:35,width:1,height:5,gap:0},"}":{left:78,up:35,width:3,height:5,gap:0},"~":{left:84,up:35,width:4,height:2,gap:-3}},Qe=(e,t)=>{const c={en:Zt,status:Oe};let d={};class h{constructor(s){this.name=s}delete(){delete d[this.name]}}class l extends h{constructor(s,a,g,o,r,f,_){super(s),this._={all_str:_.reduce((u,b)=>u+b.str,""),now:[{str:"",color:_[0].color,spacing_x:_[0].spacing_x,spacing_y:_[0].spacing_y}],len_allow:0,count:0,current_char:0,current_char_true:0},this.x=a,this.y=g,this.direction=o,this.size=r,this.data=_,this.font=(u=>{switch(u){case"status":return c.status;default:return c.en}})(f),d[s]=this,this.process()}write(){const s=this.size,a=this.direction*Math.PI/180,g=this._.now.reduce((u,b)=>u+b.str.length,0);let o=0,r=0,f=0;const _=u=>u in this.font?this.font[u]:this.font.space;return this._.now.forEach(u=>{u.str.split("").forEach(v=>{const w=_(v);v==`
`?(o=0,r+=this.font.props.height_basic+u.spacing_y):(e.stamp(this.font.props.name+"_"+u.color,this.x+(Math.cos(a)*o-Math.sin(a)*(r+w.gap/2))*s/100,this.y+(Math.sin(a)*o+Math.cos(a)*(r+w.gap/2))*s/100,this.direction,s,1,"start",{left:w.left,top:w.up,width:w.width,height:w.height}),f+1<g&&(o+=w.width+this.font.props.width_basic+u.spacing_x)),f++})}),this}process(){const s=this.data.reduce((a,g)=>a+g.str.length,0);if(this._.len_allow==s&&t.z){delete d[this.name];return}else t.x?(this._.len_allow=s,this._.current_char=s):this._.len_allow<s&&(this._.len_allow+=1/this.data[this._.count].speed,this._.current_char+=1/this.data[this._.count].speed);for(;this._.current_char_true<Math.min(this._.len_allow,s);)for(this._.now[this._.count].str+=this.data[this._.count].str[this._.now[this._.count].str.length],this._.current_char_true++;this.data[this._.count].str.length<=this._.now[this._.count].str.length&&this._.count+1<this.data.length;)this._.count++,this._.now.push({str:"",color:this.data[this._.count].color===void 0?"white":this.data[this._.count].color,spacing_x:this.data[this._.count].spacing_x,spacing_y:this.data[this._.count].spacing_y}),this._.current_char-=this.data[this._.count].str.length}}class p extends h{constructor(s,a,g,o,r,f,_,u,b,v,w){super(s),this.str_now="",this.len_now=0,this.str=a,this.x=g,this.y=o,this.direction=r,this.size=f,this.color=_,this.spacing_x=u,this.spacing_y=b,this.speed=v,this.font=(x=>{switch(x){case"status":return c.status;default:return c.en}})(w),this.len_allow=0,d[s]=this,this.process()}write(){const s=this.str_now,a=this.size,g=this.direction*Math.PI/180;let o,r;[o,r]=[0,0];const f=_=>_ in this.font?this.font[_]:this.font.space;for(let _=0;_<s.length;_++){const u=f(s[_]);s[_]==`
`?(o=0,r+=this.font.props.height_basic+this.spacing_y):(e.stamp(this.font.props.name+"_"+(this.color?this.color:"white"),this.x+(Math.cos(g)*o-Math.sin(g)*(r-u.gap))*a/100,this.y+(Math.sin(g)*o+Math.cos(g)*(r-u.gap))*a/100,this.direction,a,1,"start",{left:u.left,top:u.up,width:u.width,height:u.height}),_+1<s.length&&(o+=u.width+this.font.props.width_basic+this.spacing_x))}return this}process(){if(this.len_allow==this.str.length&&t.z){delete d[this.name];return}else t.x?this.len_allow=this.str.length:this.len_allow<this.str.length&&(this.len_allow+=1/this.speed);for(;this.str_now.length<Math.min(this.len_allow,this.str.length);)this.str_now+=this.str[this.str_now.length]}}return{Super:l,Plane:p,process:()=>{for(const n in d)d[n].process()},dict:d}},Ye=(e,t)=>{class c{constructor(p,i,n,s,a,g,o=4){this.dx=p,this.dy=i,this.dd=n,this.len=s,this.align=a,this.width=o,this.soul_size=6,this.relative=g||(()=>{const r=this.dd,f=t.x-this.dx;return(t.y-this.dy)*y(r)+f*m(r)>0?"plus":"minus"})()}judge(){const p=this.dd,i=t.x-this.dx,n=t.y-this.dy,s=i*y(p)+n*-m(p),a=n*y(p)+i*m(p);if(this.len/2>s&&s>-this.len/2){if(this.relative=="minus"&&a>-(this.width/2+this.soul_size)||this.relative=="plus"&&this.width/2+this.soul_size>a){const g=s*y(-p)+(this.width/2+this.soul_size)*(this.relative=="minus"?1:-1)*m(-p),o=(this.width/2+this.soul_size)*(this.relative=="minus"?1:-1)*-y(-p)+s*m(-p);t.x=g+this.dx,t.y=o+this.dy}}else a>0?this.relative="plus":this.relative="minus"}draw(){e.drawRect(this.dx,this.dy,this.len,this.width,"white",this.dd,1,"center++")}}class d{constructor(p,i,n,s=4){this.dx=p,this.dy=i,this.dd=n,this.width=s}judge(){const p=this.dd,i=t.x-this.dx,n=t.y-this.dy,s=i*y(p)+n*-m(p);if(n*y(p)+i*m(p)>-this.width){const g=s*y(-p)+this.width*m(-p),o=this.width*-y(-p)+s*m(-p);t.x=g+this.dx,t.y=o+this.dy}}draw(){const p=this.dx+320*m(this.dd),i=this.dy+320*y(this.dd);e.drawRect(p,i,640,640,"#ffffff88",this.dd,1,"center++")}}const h={center_x:320,center_y:240,dire:0,width:100,height:100,thickness:6,walls:[],draw(){this.walls.forEach(l=>{const p=l.dx+640*m(l.dd),i=l.dy+640*y(l.dd);e.drawRect(p,i,1280,1280,"#ffffff",l.dd,1,"center++")}),this.walls.forEach(l=>{const p=l.dx+640*m(l.dd),i=l.dy+640*y(l.dd);e.drawRect(p,i,1280-l.width*2,1280-l.width*2,"#000000",l.dd,1,"center++")})},judge(){this.walls.forEach(l=>{l.judge()})},update(){{const l=this.dire,p=this.center_x,i=this.center_y,n=this.walls[0];n.dd=l,n.dx=p+this.height/2*m(l),n.dy=i+this.height/2*y(l)}{const l=this.dire+90,p=this.center_x,i=this.center_y,n=this.walls[1];n.dd=l,n.dx=p+this.height/2*m(l),n.dy=i+this.height/2*y(l)}{const l=this.dire+180,p=this.center_x,i=this.center_y,n=this.walls[2];n.dd=l,n.dx=p+this.height/2*m(l),n.dy=i+this.height/2*y(l)}{const l=this.dire+270,p=this.center_x,i=this.center_y,n=this.walls[3];n.dd=l,n.dx=p+this.height/2*m(l),n.dy=i+this.height/2*y(l)}},init(){this.walls.push(new d(0,0,0,this.thickness)),this.walls.push(new d(0,0,90,this.thickness)),this.walls.push(new d(0,0,180,this.thickness)),this.walls.push(new d(0,0,270,this.thickness))}};return h.init(),{Wall:c,box:h}},ts=(e,t,c,d)=>{let h={};const l=class z extends c{constructor(s,a,g,o,r,f,_,u,b,v,w){super(o,r,f,_,"gb_1",!0),this.s_x=o,this.s_y=r,this.s_d=f,this.t_x=s,this.t_y=a,this.t_d=g,this.c_t=b,this.b_s=v,this.b_d=w,this.width=u,this.age=0,this.id=z.current_id,h[z.current_id]=this,z.current_id++,t.play("gb_charge",1)}move_self(){if(this.age<this.c_t){let s=(this.c_t-this.age)**4/this.c_t**4;this.x=s*this.s_x+(1-s)*this.t_x,this.y=s*this.s_y+(1-s)*this.t_y,this.d=s*this.s_d+(1-s)*this.t_d,console.log(s)}else this.age==this.c_t&&(this.x=this.t_x,this.y=this.t_y,this.d=this.t_d);if(this.b_s+this.c_t<=this.age&&-640<this.x&&this.x<640&&-640<this.y&&this.y<640){let s=(this.age-(this.b_s+this.c_t))**2;this.x=this.t_x,this.y=this.t_y,this.move(s/2)}}draw(){this.b_s+this.c_t<this.age&&e.drawRect(this.x+m(this.d)*4800/-2,this.y+y(this.d)*4800/-2,this.width*this.size/5*(1+m(this.age*10)*.2),4800,"white",this.d+180,Math.min((this.b_d+this.b_s+this.c_t-this.age)/15,1),"center++"),this.age==this.b_s+this.c_t-2&&(this.costume="gb_2"),this.age==this.b_s+this.c_t-1&&(this.costume="gb_3"),this.age==this.b_s+this.c_t&&(this.costume="gb_4"),this.b_s+this.c_t<this.age&&(this.costume=`gb_${(this.age-(this.b_s+this.c_t))%2+5}`),this.stamp()}judge(){{const s=d.soul.x-this.x,a=d.soul.y-this.y,g=s*y(this.d)+a*-m(this.d),o=a*y(this.d)+s*m(this.d);this.b_s+this.c_t<=this.age&&0>o&&this.width*this.size/10>g&&g>-this.width*this.size/10&&d.damage(2)}}static process(){for(const s in h){const a=h[s];a.move_self(),a.draw(),a.judge(),a.age++,a.b_d+a.b_s==a.age&&t.play("gb_fire",1),a.b_d+a.b_s+a.c_t<=a.age&&delete h[s]}}};l.current_id=0;let p=l;return{gbDict:h,gb:p,process:()=>{p.process()}}},es=async()=>{const e=await R(K);let t="menu";const c=Qe(e.cLib,e.inputKeys);{let l=0;await e.while(()=>t==="menu",()=>{e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.inputKeys.f.up&&(l--,e.aLib.play("cursor_move")),e.inputKeys.f.down&&(l++,e.aLib.play("cursor_move")),e.cLib.stamp("soul",220,-l*50+240);const p=new c.Plane("_","play",270,250,0,200,"yellow",0,0,0,"en");p.write(),p.delete(),e.inputKeys.f.z&&(t="battle",e.aLib.play("cursor_confirm"))})}let d=0;const h={lv:1,hp:20,hp_max:20,soul:new e.Sprite(320,240,0,80,"soul",!0),damage(l){this.hp-=l,e.aLib.play("damage",2),this.hp<=0&&(t="game_over")}};{d=0;const l=ts(e.cLib,e.aLib,e.Sprite,h),p=W(e.cLib,e.aLib,e.Sprite,h);Ye(e.cLib,h.soul);const i=ss(e.cLib,c.Plane,h);new l.gb(100,200,0,400,600,90,100,1,60,60,60),await e.while(()=>t==="battle",()=>{if(d++,e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),e.inputKeys.up&&(h.soul.y+=3.5),e.inputKeys.down&&(h.soul.y-=3.5),e.inputKeys.right&&(h.soul.x+=3.5),e.inputKeys.left&&(h.soul.x-=3.5),0<=d&&d<300&&d%10==0){const n=d*2,s=100,a=y(n)*s,g=-m(n)*s;new l.gb(320+a,240+g,n+90,320+a*10,240+g*10,n,100,1,60,60,20)}p.process(),l.process(),c.process(),i(),h.soul.stamp(),e.cLib.stamp("back",320,240,0,100,.2)})}{d=0;let l=[];await e.while(()=>t==="game_over",()=>{if(e.ctx.clearRect(0,0,e.canvas.width,e.canvas.height),d==0)e.aLib.play("heartbreak_1",2);else if(d<60)e.cLib.stamp("death_0",h.soul.x,h.soul.y,0,80);else if(d==60){e.aLib.play("heartbreak_2",2);for(let p=0;p<4;p++){let i=Math.random()*12-6,n=Math.random()*8+4;l.push(new e.Sprite(h.soul.x,h.soul.y,Math.random()*360,80,`death_${p+1}`,!0,s=>{s.x+=i,s.y+=n,s.d+=i,n-=.333,s.stamp()}))}}else 60<d&&d<180?l.forEach(p=>p.act()):d==180&&(t="waiting");d++})}},ss=(e,t,c)=>()=>{const d=new t("_","chara",32,75,0,300,"white",0,0,0,"status");d.write(),d.delete();const h=new t("_","lV",134,75,0,300,"white",0,0,0,"status");h.write(),h.delete();const l=new t("_",`${("00"+c.lv).slice(-2)}`,173,75,0,300,"white",0,0,0,"status");l.write(),l.delete();const p=new t("_",`${("00"+c.hp).slice(-2)}`,c.hp_max*1.2+306,77,0,300,"white",0,0,0,"status");p.write(),p.delete();const i=new t("_","/",c.hp_max*1.2+345,77,0,300,"white",0,0,0,"status");i.write(),i.delete();const n=new t("_",`${("00"+c.hp_max).slice(-2)}`,c.hp_max*1.2+369,77,0,300,"white",0,0,0,"status");n.write(),n.delete(),e.drawRect(256,59,c.hp_max*1.2,21,"red",0,1,"start"),e.drawRect(256,59,c.hp*1.2,21,"yellow",0,1,"start"),e.stamp("hp_white",224,74,0,100,1,"start"),e.stamp("kr_white",c.hp_max*1.2+267,74,0,100,1,"start")};window.onload=es;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzIjpbIi4uL3NyYy9saWIvZnJhbWUudHMiLCIuLi9zcmMvbGliL2xvYWRlci50cyIsIi4uL3NyYy9saWIvdXRpbHMudHMiLCIuLi9zcmMvbGliL2NhbnZhcy50cyIsIi4uL3NyYy9saWIvc3ByaXRlLnRzIiwiLi4vc3JjL2xpYi9wb3NpdGlvbi50cyIsIi4uL3NyYy9saWIvYXVkaW9zLnRzIiwiLi4vc3JjL2xpYi9jb3JlLnRzIiwiLi4vc3JjL2JvbmUudHMiLCIuLi9zcmMvZm9udC50cyIsIi4uL3NyYy9ib3gudHMiLCIuLi9zcmMvZ2IudHMiLCIuLi9zcmMvZ2FtZS50cyIsIi4uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBEaWN0IH0gZnJvbSBcIi4vdXRpbHNcIlxyXG5pbXBvcnQgeyBhTGliVCB9IGZyb20gXCIuL3R5cGVzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgZnJhbWVMaWJHZW4gPSAoYl90aWNrOigpPT52b2lkLGFfdGljazooKT0+dm9pZCkgPT4ge1xyXG4gICAgY29uc3QgZlcgPSAoY29uZGl0aW9uOiAoKSA9PiBib29sZWFuLCBwcm9jOiAoKSA9PiB2b2lkLCByZXNvbHZlOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgaWYgKGNvbmRpdGlvbigpKSB7IGJfdGljaygpOyBwcm9jKCk7IGFfdGljaygpOyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gZlcoY29uZGl0aW9uLCBwcm9jLCByZXNvbHZlKSkgfSBlbHNlIHtyZXNvbHZlKCl9XHJcbiAgICB9XHJcbiAgICBjb25zdCBmcmFtZVdoaWxlID0gKGNvbmRpdGlvbjogKCkgPT4gYm9vbGVhbiwgcHJvYzogKCkgPT4gdm9pZCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBmVyhjb25kaXRpb24sIHByb2MsIHJlc29sdmUpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBjb25zdCBmRiA9IChjb25kaXRpb246IG51bWJlciwgcHJvYzogKGFyZzogbnVtYmVyKSA9PiB2b2lkLCBpOiBudW1iZXIsIHJlc29sdmU6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICBpZiAoaSA8IGNvbmRpdGlvbikgeyBiX3RpY2soKTsgcHJvYyhpKTsgYV90aWNrKCk7IHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBmRihjb25kaXRpb24sIHByb2MsIGkgKyAxLCByZXNvbHZlKSkgfSBlbHNlIHtyZXNvbHZlKCl9XHJcbiAgICB9XHJcbiAgICBjb25zdCBmcmFtZUZvciA9IChjb25kaXRpb246IG51bWJlciwgcHJvYzogKGFyZzogbnVtYmVyKSA9PiB2b2lkLCBpOiBudW1iZXIgPSAwKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIGZGKGNvbmRpdGlvbiwgcHJvYywgaSwgcmVzb2x2ZSk7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmcmFtZUxvb3AgPSAocHJvYzogKCkgPT4gdm9pZCkgPT4geyBiX3RpY2soKTsgcHJvYygpOyBhX3RpY2soKTsgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IGZyYW1lTG9vcChwcm9jKSkgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZnJhbWVXaGlsZSwgZnJhbWVGb3IsIGZyYW1lTG9vcFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRGljdCB9IGZyb20gXCIuL3V0aWxzXCI7XHJcbmltcG9ydCB7IEFzc2V0cyB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCBqc29uIGZyb20gXCIuLi9hc3NldHMuanNvblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGxvYWRBc3NldHMgPSBhc3luYyAoYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQpOiBQcm9taXNlPEFzc2V0cz4gPT4ge1xyXG4gICAgdHlwZSBBc3NldERhdGEgPSB7XHJcbiAgICAgICAgdHlwZTogXCJpbWFnZVwiIHwgXCJhdWRpb1wiIHwgXCJmb250XCIsXHJcbiAgICAgICAgc3JjOiBzdHJpbmcsXHJcbiAgICAgICAgbmFtZTogc3RyaW5nLFxyXG4gICAgfVxyXG4gICAgY29uc3QgSW1hZ2VzOiBEaWN0PEhUTUxJbWFnZUVsZW1lbnQ+ID0ge307XHJcbiAgICBjb25zdCBBdWRpb3M6IERpY3Q8eyBjdHg6IEF1ZGlvQnVmZmVyLCBkYXRhOiBIVE1MQXVkaW9FbGVtZW50LCB0aW1lOiBudW1iZXIgfT4gPSB7fTtcclxuICAgIGNvbnN0IEZvbnRzOiBEaWN0PEZvbnRGYWNlPiA9IHt9O1xyXG4gICAgY29uc3QgaW5kZXg6IEFzc2V0RGF0YVtdID0ganNvbiBhcyB1bmtub3duIGFzIEFzc2V0RGF0YVtdO1xyXG4gICAgY29uc3QgcHJvbWlzZXM6IFByb21pc2U8dm9pZD5bXSA9IFtdO1xyXG4gICAgY29uc29sZS5sb2coaW5kZXgpXHJcbiAgICBpbmRleC5mb3JFYWNoKChlOiBBc3NldERhdGEpID0+IHByb21pc2VzLnB1c2gobmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKGUudHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IGUuc3JjO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIEltYWdlc1tlLm5hbWVdID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiYXVkaW9cIjoge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYXVkaW8gPSBuZXcgQXVkaW8oZS5zcmMpO1xyXG4gICAgICAgICAgICAgICAgYXVkaW8uYXV0b3BsYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGF1ZGlvLm11dGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF1ZGlvKTtcclxuICAgICAgICAgICAgICAgIGF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkZWRkYXRhXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBhdWRpby5tdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goZS5zcmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdWRpb0RhdGEgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBdWRpb3NbZS5uYW1lXSA9IHsgY3R4OiBhd2FpdCBhdWRpb0NvbnRleHQuZGVjb2RlQXVkaW9EYXRhKGF1ZGlvRGF0YSksIGRhdGE6IGF1ZGlvLCB0aW1lOiBJbmZpbml0eSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpby5vbmxvYWQgPSAoKSA9PiByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkoKS50aGVuKHJlc29sdmUpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmb250XCI6IHtcclxuICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChlLnNyYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3NzRm9udEZhY2UgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2hVcmxzID0gYXdhaXQgY3NzRm9udEZhY2UubWF0Y2goL3VybFxcKC4rP1xcKS9nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoVXJscykgdGhyb3cgbmV3IEVycm9yKFwi44OV44Kp44Oz44OI44GM6KaL44Gk44GL44KK44G+44Gb44KT44Gn44GX44GfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzX3N1YjogUHJvbWlzZTx2b2lkPltdID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hVcmxzLmZvckVhY2goKGYpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXNfc3ViLnB1c2goXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvbnQgPSBuZXcgRm9udEZhY2UoZS5uYW1lLCBmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBmb250LmxvYWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb250c1tlLm5hbWVdID0gZm9udDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBkb2N1bWVudC5mb250cy5hZGQoZm9udCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlc19zdWIpXHJcbiAgICAgICAgICAgICAgICB9KSgpLnRoZW4ocmVzb2x2ZSlcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KSkpO1xyXG4gICAgYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgcmV0dXJuIHsgSW1hZ2VzLCAgQXVkaW9zLCBGb250cyB9O1xyXG59OyIsIlxyXG5jbGFzcyBPcHQ8VD4ge1xyXG4gICAgaXNfc29tZTogYm9vbGVhbjtcclxuICAgIHZhbHVlOiBUIHwgdW5kZWZpbmVkO1xyXG4gICAgY29uc3RydWN0b3IoaXNfc29tZTogYm9vbGVhbiwgdmFsdWU6IFQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLmlzX3NvbWUgPSBpc19zb21lO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHVud3JhcCgpOiBUIHtcclxuICAgICAgICBpZiAodGhpcy5pc19zb21lKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlITtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bndyYXBfb3IoYXJnOiBUKTogVCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNfc29tZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bndyYXBfb3JfZWxzZShmbjogKCkgPT4gVCk6IFQge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX3NvbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHN0YXRpYyBOb25lPFQ+KCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgT3B0PFQ+KGZhbHNlKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBTb21lPFQ+KGFyZzogVCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgT3B0PFQ+KHRydWUsIGFyZyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgdHJ5PFQ+KGZuOiAoKSA9PiBUKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdiA9IGZuKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBPcHQuU29tZTxUPih2KTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgcmV0dXJuIE9wdC5Ob25lPFQ+KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBSZXM8VCwgRT4ge1xyXG4gICAgaXNfb2s6IGJvb2xlYW47XHJcbiAgICB2YWx1ZTogVCB8IEUgfCB1bmRlZmluZWQ7XHJcbiAgICBjb25zdHJ1Y3Rvcihpc19vazogYm9vbGVhbiwgdmFsdWU6IFQgfCBFIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgdGhpcy5pc19vayA9IGlzX29rO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgIH1cclxuICAgIHVud3JhcCgpOiBUIHtcclxuICAgICAgICBpZiAodGhpcy5pc19vaykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZSBhcyBUO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcih0aGlzLnZhbHVlIGFzIEUgYXMgc3RyaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB1bndyYXBfb3IoYXJnOiBUKTogVCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNfb2spIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgYXMgVDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHVud3JhcF9vcl9lbHNlKGZuOiAoYXJnMDogRSkgPT4gVCk6IFQge1xyXG4gICAgICAgIGlmICh0aGlzLmlzX29rKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlIGFzIFQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuKHRoaXMudmFsdWUgYXMgRSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3RhdGljIE9rPFQsIEU+KGFyZzogVCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzPFQsIEU+KHRydWUsIGFyZyk7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgRXJyPFQsIEU+KGVycjogRSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzPFQsIEU+KGZhbHNlKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyB0cnk8VD4oZm46ICgpID0+IFQpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB2ID0gZm4oKTtcclxuICAgICAgICAgICAgcmV0dXJuIFJlcy5Payh2KTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFJlcy5FcnIoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG50eXBlIERpY3Q8VD4gPSB7XHJcbiAgICBba2V5czogc3RyaW5nXTogVCxcclxufVxyXG5cclxuY29uc3Qgc2luMzYwID0gKGQ6IG51bWJlcikgPT4gTWF0aC5zaW4oZCAvIDM2MCAqIE1hdGguUEkgKiAyKTtcclxuY29uc3QgY29zMzYwID0gKGQ6IG51bWJlcikgPT4gTWF0aC5jb3MoZCAvIDM2MCAqIE1hdGguUEkgKiAyKTtcclxuY29uc3QgdGFuMzYwID0gKGQ6IG51bWJlcikgPT4gTWF0aC50YW4oZCAvIDM2MCAqIE1hdGguUEkgKiAyKTtcclxuXHJcbmNvbnN0IGRpc3RhbmNlID0gKGx4OiBudW1iZXIsIGx5OiBudW1iZXIsIHJ4OiBudW1iZXIsIHJ5OiBudW1iZXIpOiBudW1iZXIgPT4ge1xyXG4gICAgcmV0dXJuIE1hdGguc3FydCgocnggLSBseCkgKiogMiArIChyeSAtIGx5KSAqKiAyKVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgT3B0LFxyXG4gICAgUmVzLFxyXG4gICAgRGljdCxcclxuICAgIHNpbjM2MCxcclxuICAgIGNvczM2MCxcclxuICAgIHRhbjM2MCxcclxuICAgIGRpc3RhbmNlLFxyXG59IiwiaW1wb3J0IHsgY29uZmlnVCwgQ2FudmFzUHJvcHMsIGNMaWJUIH0gZnJvbSBcIi4vdHlwZXNcIjtcclxuaW1wb3J0IHsgc2luMzYwLCBjb3MzNjAgfSBmcm9tIFwiLi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IENhbnZhc0xpYkdlbiA9IChjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgSW1hZ2VzOiB7IFtrZXlzOiBzdHJpbmddOiBIVE1MSW1hZ2VFbGVtZW50LCB9LCBGb250czogeyBba2V5czogc3RyaW5nXTogRm9udEZhY2UgfSwgY29uZmlnOiBjb25maWdULCBwcm9wczogQ2FudmFzUHJvcHMpOiBjTGliVCA9PiB7XHJcbiAgICBjb25zdCBzdGFtcCA9IChuYW1lOiBzdHJpbmcsIGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIGRkOiBudW1iZXIgPSAwLCBzaXplOiBudW1iZXIgPSAxMDAsIGFscGhhOiBudW1iZXIgPSAxLCBhbGlnbjogXCJjZW50ZXJcIiB8IFwic3RhcnRcIiA9IFwiY2VudGVyXCIsIGJveD86IHsgbGVmdDogbnVtYmVyLCB0b3A6IG51bWJlciwgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIsIH0sIGFic29sdXRlID0gZmFsc2UpID0+IHtcclxuICAgICAgICBpZiAoYWJzb2x1dGUpIHtcclxuICAgICAgICAgICAgY29uc3QgY29zdHVtZSA9IEltYWdlc1tuYW1lXTtcclxuICAgICAgICAgICAgY29uc3QgW3N4LCBzeSwgc3csIHNoXSA9IGJveCA9PT0gdW5kZWZpbmVkID8gWzAsIDAsIGNvc3R1bWUud2lkdGgsIGNvc3R1bWUuaGVpZ2h0XSA6IFtib3gubGVmdCwgYm94LnRvcCwgYm94LndpZHRoLCBib3guaGVpZ2h0XTtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGE7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYWxpZ24pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShkeCAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIC1keSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHkgKyBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucm90YXRlKGRkICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LmRyYXdJbWFnZShjb3N0dW1lLCBzeCwgc3ksIHN3LCBzaCwgKC1zdyAqIHNpemUgLyAyMDApICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSwgKC1zaCAqIHNpemUgLyAyMDApICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSwgKHN3ICogc2l6ZSAvIDEwMCkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAoc2ggKiBzaXplIC8gMTAwKSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoZHggKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAtZHkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5ICsgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShkZCAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoY29zdHVtZSwgc3gsIHN5LCBzdywgc2gsIDAsIDAsIChzdyAqIHNpemUgLyAxMDApICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSwgKHNoICogc2l6ZSAvIDEwMCkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgeCA9IChjb3MzNjAocHJvcHMuZCkgKiBkeCAtIHNpbjM2MChwcm9wcy5kKSAqIGR5ICsgcHJvcHMueCkgKiBwcm9wcy5zaXplIC8gMTAwO1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gKHNpbjM2MChwcm9wcy5kKSAqIGR4ICsgY29zMzYwKHByb3BzLmQpICogZHkgKyBwcm9wcy55KSAqIHByb3BzLnNpemUgLyAxMDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSBkZCArIHByb3BzLmQ7XHJcbiAgICAgICAgICAgIHN0YW1wKG5hbWUsIHgsIHksIGQsIHNpemUgKiBwcm9wcy5zaXplIC8gMTAwLCBhbHBoYSwgYWxpZ24sIGJveCwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGRyYXdSZWN0ID0gKGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBkaXJlY3Rpb246IG51bWJlciA9IDAsIGFscGhhPzogbnVtYmVyLCB0eXBlOiBzdHJpbmcgPSBcImNlbnRlclwiKSA9PiB7XHJcbiAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gYWxwaGEgPT09IHVuZGVmaW5lZCA/IDEgOiBhbHBoYTtcclxuICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiY2VudGVyKytcIjoge1xyXG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShkeCAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIC1keSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHkgKyBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoZGlyZWN0aW9uICogTWF0aC5QSSAvIDE4MCk7XHJcbiAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgICAgICBjdHgucmVjdCgoLXdpZHRoIC8gMikgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAoLWhlaWdodCAvIDIpICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSwgKHdpZHRoKSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIChoZWlnaHQpICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSk7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjZW50ZXJcIjoge1xyXG4gICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgoZHggLSB3aWR0aCAvIDIpICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSwgLShkeSAtIGhlaWdodCAvIDIpICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSArIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICAgICAgY3R4LnJvdGF0ZShkaXJlY3Rpb24gKiBNYXRoLlBJIC8gMTgwKTtcclxuICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIGN0eC5yZWN0KDAsIDAsICh3aWR0aCkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAtKGhlaWdodCkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5KTtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICAgICAgICAgIGN0eC50cmFuc2xhdGUoZHggKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAtZHkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5ICsgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBjdHgucm90YXRlKGRpcmVjdGlvbiAqIE1hdGguUEkgLyAxODApO1xyXG4gICAgICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICAgICAgY3R4LnJlY3QoMCwgMCwgKHdpZHRoKSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIC0oaGVpZ2h0KSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHkpO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGRyYXdMaW5lID0gKGx4OiBudW1iZXIsIGx5OiBudW1iZXIsIGQ6IG51bWJlciwgbGVuOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGNvbG9yOiBzdHJpbmcsIHR5cGU6IG51bWJlciA9IDApID0+IHtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAwOiB7XHJcbiAgICAgICAgICAgICAgICBjdHgubW92ZVRvKChseCAtIGxlbiAqIE1hdGguc2luKGQpIC8gMikgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAtKGx5ICsgbGVuICogTWF0aC5jb3MoZCkgLyAyKSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHkgKyBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIGN0eC5saW5lVG8oKGx4ICsgbGVuICogTWF0aC5zaW4oZCkgLyAyKSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIC0obHkgLSBsZW4gKiBNYXRoLmNvcyhkKSAvIDIpICogY29uZmlnLmRpc3BsYXlfcXVhbGl0eSArIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDE6IHtcclxuICAgICAgICAgICAgICAgIGN0eC5tb3ZlVG8obHggKiBjb25maWcuZGlzcGxheV9xdWFsaXR5LCAtbHkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5ICsgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBjdHgubGluZVRvKChseCArIGxlbiAqIE1hdGguc2luKGQpKSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIC0obHkgLSBsZW4gKiBNYXRoLmNvcyhkKSkgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5ICsgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSB3aWR0aCAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZHJhd1RleHQgPSAodHg6IHN0cmluZywgbHg6IG51bWJlciwgbHk6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBmb250OiBzdHJpbmcgPSBcInNlcmlmXCIsIGFsaWduOiBcImxlZnRcIiB8IFwicmlnaHRcIiB8IFwiY2VudGVyXCIgfCBcInN0YXJ0XCIgfCBcImVuZFwiID0gXCJsZWZ0XCIpID0+IHtcclxuICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAxO1xyXG4gICAgICAgIGNvbnN0IFt4LCB5XSA9IFtseCAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHksIC1seSAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHkgKyBjYW52YXMuaGVpZ2h0XTtcclxuICAgICAgICBjdHguZm9udCA9IGAke3NpemUgKiBjb25maWcuZGlzcGxheV9xdWFsaXR5fXB4ICR7Zm9udH1gO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBhbGlnbjtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHR4LCB4LCB5KTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc3RhbXAsXHJcbiAgICAgICAgZHJhd1JlY3QsXHJcbiAgICAgICAgZHJhd0xpbmUsXHJcbiAgICAgICAgZHJhd1RleHQsXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgQ29yZVQsIGNMaWJULCBTcHJpdGVDbGFzc1QgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBEaWN0LCBPcHQsIHNpbjM2MCwgY29zMzYwIH0gZnJvbSBcIi4vdXRpbHNcIlxyXG5cclxuZXhwb3J0IGNvbnN0IFNwcml0ZUxpYkdlbiA9IChjTGliOiBjTGliVCk6IFNwcml0ZUNsYXNzVCA9PiB7XHJcbiAgICB0eXBlIFNlbGYgPSB7XHJcbiAgICAgICAgeDogbnVtYmVyLFxyXG4gICAgICAgIHk6IG51bWJlcixcclxuICAgICAgICBkOiBudW1iZXIsXHJcbiAgICAgICAgc2l6ZTogbnVtYmVyLFxyXG4gICAgICAgIGNvc3R1bWU6IHN0cmluZyxcclxuICAgICAgICB2aXNpYmxlOiBib29sZWFuLFxyXG4gICAgICAgIHN0YW1wOiAoKSA9PiB2b2lkLFxyXG4gICAgICAgIG1vdmU6IChmOiBudW1iZXIpID0+IHZvaWQ7XHJcbiAgICB9O1xyXG4gICAgY2xhc3MgU3ByaXRlIHtcclxuICAgICAgICB4OiBudW1iZXI7XHJcbiAgICAgICAgeTogbnVtYmVyO1xyXG4gICAgICAgIGQ6IG51bWJlcjtcclxuICAgICAgICBzaXplOiBudW1iZXI7XHJcbiAgICAgICAgY29zdHVtZTogc3RyaW5nO1xyXG4gICAgICAgIHZpc2libGU6IGJvb2xlYW47XHJcbiAgICAgICAgYWN0XzogdW5kZWZpbmVkIHwgKChzZWxmOiBTZWxmKSA9PiB2b2lkKTtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgZDogbnVtYmVyID0gMCwgc2l6ZTogbnVtYmVyID0gMTAwLCBjb3N0dW1lOiBzdHJpbmcgPSBcIlwiLCB2aXNpYmxlOiBib29sZWFuID0gZmFsc2UsIGFjdD86IChzZWxmOiBTZWxmKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMuZCA9IGQ7XHJcbiAgICAgICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgICAgIHRoaXMuY29zdHVtZSA9IGNvc3R1bWU7XHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGU7XHJcbiAgICAgICAgICAgIHRoaXMuYWN0XyA9IGFjdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhbXAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIGNMaWIuc3RhbXAodGhpcy5jb3N0dW1lLCB0aGlzLngsIHRoaXMueSwgdGhpcy5kLCB0aGlzLnNpemUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vdmUoZmFyOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgdGhpcy54ICs9IHNpbjM2MCh0aGlzLmQpICogZmFyO1xyXG4gICAgICAgICAgICB0aGlzLnkgKz0gY29zMzYwKHRoaXMuZCkgKiBmYXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFjdCgpIHtcclxuICAgICAgICAgICAgKHRoaXMuYWN0XyB8fCAoKCkgPT4geyB9KSkodGhpcylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gU3ByaXRlO1xyXG59IiwiaW1wb3J0IHsgY29uZmlnVCwgQ2FudmFzUHJvcHMgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBzaW4zNjAsIGNvczM2MCB9IGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgUG9zaXRpb25MaWJHZW4gPSAoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgY29uZmlnOiBjb25maWdULCBwcm9wczogQ2FudmFzUHJvcHMpID0+IHtcclxuICAgIGNvbnN0IHJhd190b19zdGFnZSA9IChyeDogbnVtYmVyLCByeTogbnVtYmVyLCByZDogbnVtYmVyID0gMCk6IHsgeDogbnVtYmVyLCB5OiBudW1iZXIsIGQ6IG51bWJlciB9ID0+IHtcclxuICAgICAgICBjb25zdCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGNvbnN0IHggPSAoKHJ4IC0gcmVjdC5sZWZ0KSAvIHByb3BzLnNpemUgKiAxMDAgLSBwcm9wcy54KSAqIGNvbmZpZy5zdGFnZV93aWR0aCAvIGNvbmZpZy5kaXNwbGF5X3dpZHRoO1xyXG4gICAgICAgIGNvbnN0IHkgPSAoY29uZmlnLmRpc3BsYXlfaGVpZ2h0IC0gKChyeSAtIHJlY3QudG9wKSAvIHByb3BzLnNpemUgKiAxMDAgLSBwcm9wcy55KSkgKiBjb25maWcuc3RhZ2VfaGVpZ2h0IC8gY29uZmlnLmRpc3BsYXlfaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGQgPSByZCArIHByb3BzLmQ7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeCwgeSwgZFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmF3X3RvX3N0YWdlXHJcbiAgICB9XHJcbn1cclxuY29uc3Qgc3RhbXAgPSAobmFtZTogc3RyaW5nLCBkeDogbnVtYmVyLCBkeTogbnVtYmVyLCBkZDogbnVtYmVyID0gMCwgc2l6ZTogbnVtYmVyID0gMTAwLCBhYnNvbHV0ZSA9IGZhbHNlKSA9PiB7XHJcbiAgICBjb25zdCBbcHJvcHNfeCwgcHJvcHNfeSwgcHJvcHNfc2l6ZV0gPSBbMCwgMCwgMF1cclxuICAgIGNvbnN0IHggPSAoZHggKyBwcm9wc194KSAqIHByb3BzX3NpemUgLyAxMDA7XHJcbiAgICBjb25zdCB5ID0gKGR5ICsgcHJvcHNfeSkgKiBwcm9wc19zaXplIC8gMTAwO1xyXG4gICAgY29uc3QgW2Rpc3BsYXlfcXVhbGl0eSwgaGVpZ2h0XSA9IFswLCAwXTtcclxuICAgIGNvbnN0IFtwYWlyX3gsIHBhaXJfeV0gPSBbeCAqIGRpc3BsYXlfcXVhbGl0eSwgLXkgKiBkaXNwbGF5X3F1YWxpdHkgKyBoZWlnaHRdO1xyXG4gICAgY29uc3QgW3Jhd194LCByYXdfeV0gPSBbcGFpcl94IC8gZGlzcGxheV9xdWFsaXR5LCAtKHBhaXJfeSAtIGhlaWdodCkgLyBkaXNwbGF5X3F1YWxpdHldXHJcbn07IiwiaW1wb3J0IHsgY29uZmlnVCwgYUxpYlQgfSBmcm9tIFwiLi90eXBlc1wiO1xyXG5pbXBvcnQgeyBzaW4zNjAsIGNvczM2MCwgRGljdCB9IGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQXVkaW9MaWJHZW4gPSAoQXVkaW9zOiBEaWN0PHsgY3R4OiBBdWRpb0J1ZmZlciwgZGF0YTogSFRNTEF1ZGlvRWxlbWVudCwgdGltZTogbnVtYmVyIH0+KTogYUxpYlQgPT4ge1xyXG4gICAgY29uc3QgY3R4ID0gbmV3ICh3aW5kb3cuQXVkaW9Db250ZXh0IHx8ICh3aW5kb3cgYXMgYW55KS53ZWJraXRBdWRpb0NvbnRleHQpKCk7XHJcbiAgICBjb25zdCBwbGF5ID0gKG5hbWU6IHN0cmluZywgZGVsYXk6IG51bWJlciA9IDAsIGdhaW46bnVtYmVyPTEpID0+IHtcclxuICAgICAgICBpZiAoZGVsYXkgPD0gQXVkaW9zW25hbWVdLnRpbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZ2Fpbk5vZGUgPSBjdHguY3JlYXRlR2FpbigpO1xyXG4gICAgICAgICAgICBjb25zdCBzb3VyY2UgPSBjdHguY3JlYXRlQnVmZmVyU291cmNlKCk7XHJcbiAgICAgICAgICAgIHNvdXJjZS5idWZmZXIgPSBBdWRpb3NbbmFtZV0uY3R4O1xyXG4gICAgICAgICAgICBnYWluTm9kZS5nYWluLnNldFZhbHVlQXRUaW1lKGdhaW4sIGN0eC5jdXJyZW50VGltZSk7XHJcbiAgICAgICAgICAgIHNvdXJjZS5jb25uZWN0KGdhaW5Ob2RlKVxyXG4gICAgICAgICAgICBnYWluTm9kZS5jb25uZWN0KGN0eC5kZXN0aW5hdGlvbik7XHJcbiAgICAgICAgICAgIHNvdXJjZS5zdGFydCgwKTtcclxuICAgICAgICAgICAgQXVkaW9zW25hbWVdLnRpbWUgPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHRpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBuIGluIEF1ZGlvcykge1xyXG4gICAgICAgICAgICBBdWRpb3Nbbl0udGltZSsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB7IHBsYXksIHRpY2sgfVxyXG5cclxufVxyXG4iLCJpbXBvcnQgeyBEaWN0IH0gZnJvbSBcIi4vdXRpbHNcIjtcclxuaW1wb3J0IHsgQ29yZVQsIGNvbmZpZ1QsIGNMaWJULCBhTGliVCB9IGZyb20gXCIuL3R5cGVzXCI7XHJcbmltcG9ydCB7IGZyYW1lTGliR2VuIH0gZnJvbSBcIi4vZnJhbWVcIjtcclxuaW1wb3J0IHsgbG9hZEFzc2V0cyB9IGZyb20gXCIuL2xvYWRlclwiO1xyXG5pbXBvcnQgeyBDYW52YXNMaWJHZW4gfSBmcm9tIFwiLi9jYW52YXNcIjtcclxuaW1wb3J0IHsgU3ByaXRlTGliR2VuIH0gZnJvbSBcIi4vc3ByaXRlXCI7XHJcbmltcG9ydCB7IFBvc2l0aW9uTGliR2VuIH0gZnJvbSBcIi4vcG9zaXRpb25cIjtcclxuaW1wb3J0IHsgQXVkaW9MaWJHZW4gfSBmcm9tIFwiLi9hdWRpb3NcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBpbml0ID0gYXN5bmMgKGNvbmZpZzogY29uZmlnVCk6IFByb21pc2U8Q29yZVQ+ID0+IHtcclxuICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5jYW52YXNfbmFtZSkgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gY29uZmlnLnN0YWdlX2hlaWdodCAqIGNvbmZpZy5kaXNwbGF5X3F1YWxpdHk7XHJcbiAgICBjYW52YXMud2lkdGggPSBjb25maWcuc3RhZ2Vfd2lkdGggKiBjb25maWcuZGlzcGxheV9xdWFsaXR5O1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKSE7XHJcbiAgICBjb25zdCBhdWRpb0NvbnRleHQgPSBuZXcgKHdpbmRvdy5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcclxuICAgIGNvbnN0IHsgSW1hZ2VzLCBBdWRpb3MsIEZvbnRzIH0gPSBhd2FpdCBsb2FkQXNzZXRzKGF1ZGlvQ29udGV4dCk7XHJcbiAgICBjb25zdCBpbnB1dEtleXMgPSB7XHJcbiAgICAgICAgdXA6IGZhbHNlLCBkb3duOiBmYWxzZSwgbGVmdDogZmFsc2UsIHJpZ2h0OiBmYWxzZSwgejogZmFsc2UsIHg6IGZhbHNlLCBjOiBmYWxzZSwgZDogZmFsc2UsXHJcbiAgICAgICAgZjoge1xyXG4gICAgICAgICAgICB1cDogZmFsc2UsIGRvd246IGZhbHNlLCBsZWZ0OiBmYWxzZSwgcmlnaHQ6IGZhbHNlLCB6OiBmYWxzZSwgeDogZmFsc2UsIGM6IGZhbHNlLCBkOiBmYWxzZSxcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgaW5wdXRNb3VzZSA9IHtcclxuICAgICAgICB4OiAwLCB5OiAwLCBjbGlja2luZzogZmFsc2UsIGlzX2luX3JlY3QoZHg6IG51bWJlciwgZHk6IG51bWJlciwgdzogbnVtYmVyLCBoOiBudW1iZXIsIHR5cGU6IHN0cmluZyA9IFwiY2VudGVyXCIpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2VudGVyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGR4IC0gdyAvIDIgPCB0aGlzLnggJiYgdGhpcy54IDwgZHggKyB3IC8gMikgJiYgKGR5IC0gaCAvIDIgPCB0aGlzLnkgJiYgdGhpcy55IDwgZHkgKyBoIC8gMik7XHJcbiAgICAgICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInN0YXJ0XCI6XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChkeCA8IHRoaXMueCAmJiB0aGlzLnggPCBkeCArIHcpICYmIChkeSA8IHRoaXMueSAmJiB0aGlzLnkgPCBkeSArIGgpO1xyXG4gICAgICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcm9wcyA9IHtcclxuICAgICAgICBjYW52YXM6IHtcclxuICAgICAgICAgICAgc2l6ZTogMTAwLFxyXG4gICAgICAgICAgICB4OiAwLFxyXG4gICAgICAgICAgICB5OiAwLFxyXG4gICAgICAgICAgICBkOiAwLFxyXG4gICAgICAgIH0sXHJcbiAgICB9O1xyXG4gICAgY29uc3QgY0xpYjogY0xpYlQgPSBDYW52YXNMaWJHZW4oY2FudmFzLCBjdHgsIEltYWdlcywgRm9udHMsIGNvbmZpZywgcHJvcHMuY2FudmFzKTtcclxuICAgIGNvbnN0IGFMaWI6IGFMaWJUID0gQXVkaW9MaWJHZW4oQXVkaW9zKTtcclxuICAgIGNvbnN0IFNwcml0ZSA9IFNwcml0ZUxpYkdlbihjTGliKTtcclxuXHJcbiAgICBjdHguaW1hZ2VTbW9vdGhpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICBjb25zdCBwTGliID0gUG9zaXRpb25MaWJHZW4oY2FudmFzLCBjb25maWcsIHByb3BzLmNhbnZhcyk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMudXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRLZXlzLmYudXAgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dEb3duXCI6IHtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5kb3duID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5mLmRvd24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6IHtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5sZWZ0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5mLmxlZnQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dSaWdodFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMucmlnaHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRLZXlzLmYucmlnaHQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwielwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiWlwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMueiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMuZi56ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcInhcIjpcclxuICAgICAgICAgICAgY2FzZSBcIlhcIjoge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRLZXlzLnggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRLZXlzLmYueCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJjXCI6XHJcbiAgICAgICAgICAgIGNhc2UgXCJDXCI6IHtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5jID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5mLmMgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiRFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMuZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMuZi5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChlLmtleSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dVcFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMudXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBcIkFycm93RG93blwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMuZG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiQXJyb3dMZWZ0XCI6IHtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5sZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgXCJBcnJvd1JpZ2h0XCI6IHtcclxuICAgICAgICAgICAgICAgIGlucHV0S2V5cy5yaWdodCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwielwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiWlwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMueiA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwieFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiWFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMueCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiY1wiOlxyXG4gICAgICAgICAgICBjYXNlIFwiQ1wiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMuYyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFwiZFwiOlxyXG4gICAgICAgICAgICBjYXNlIFwiRFwiOiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEtleXMuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZSA9PiB7XHJcbiAgICAgICAgaW5wdXRNb3VzZS5jbGlja2luZyA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcCA9IHBMaWIucmF3X3RvX3N0YWdlKGUueCwgZS55KTtcclxuICAgICAgICBpbnB1dE1vdXNlLnggPSBwLng7XHJcbiAgICAgICAgaW5wdXRNb3VzZS55ID0gcC55O1xyXG4gICAgfSk7XHJcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBlID0+IHtcclxuICAgICAgICBjb25zdCBwID0gcExpYi5yYXdfdG9fc3RhZ2UoZS54LCBlLnkpO1xyXG4gICAgICAgIGlucHV0TW91c2UueCA9IHAueDtcclxuICAgICAgICBpbnB1dE1vdXNlLnkgPSBwLnk7XHJcbiAgICB9KTtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBlID0+IHtcclxuICAgICAgICBpbnB1dE1vdXNlLmNsaWNraW5nID0gZmFsc2U7XHJcbiAgICAgICAgY29uc3QgcCA9IHBMaWIucmF3X3RvX3N0YWdlKGUueCwgZS55KTtcclxuICAgICAgICBpbnB1dE1vdXNlLnggPSBwLng7XHJcbiAgICAgICAgaW5wdXRNb3VzZS55ID0gcC55O1xyXG4gICAgfSk7XHJcbiAgICBsZXQgYl90aWNrOigpPT52b2lkO1xyXG4gICAgbGV0IGFfdGljazooKT0+dm9pZDtcclxuICAgIHtcclxuICAgICAgICBsZXQgYmsgPSB7XHJcbiAgICAgICAgICAgIHVwOiBmYWxzZSwgZG93bjogZmFsc2UsIGxlZnQ6IGZhbHNlLCByaWdodDogZmFsc2UsIHo6IGZhbHNlLCB4OiBmYWxzZSwgYzogZmFsc2UsIGQ6IGZhbHNlLFxyXG4gICAgICAgIH1cclxuICAgICAgICBiX3RpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIChbXCJ1cFwiLCBcImRvd25cIiwgXCJsZWZ0XCIsIFwicmlnaHRcIiwgXCJ6XCIsIFwieFwiLCBcImNcIiwgXCJkXCJdIGFzIChcInVwXCIgfCBcImRvd25cIiB8IFwibGVmdFwiIHwgXCJyaWdodFwiIHwgXCJ6XCIgfCBcInhcIiB8IFwiY1wiIHwgXCJkXCIpW10pLmZvckVhY2goZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmtbZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnB1dEtleXMuZltlXSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBiayA9IHsgLi4uaW5wdXRLZXlzLmYgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhX3RpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGFMaWIudGljaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IHsgZnJhbWVXaGlsZSwgZnJhbWVGb3IsIGZyYW1lTG9vcCB9ID0gZnJhbWVMaWJHZW4oYl90aWNrLGFfdGljayk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNhbnZhcyxcclxuICAgICAgICBjdHgsXHJcbiAgICAgICAgSW1hZ2VzLFxyXG4gICAgICAgIEF1ZGlvcyxcclxuICAgICAgICBGb250cyxcclxuICAgICAgICBpbnB1dEtleXMsXHJcbiAgICAgICAgaW5wdXRNb3VzZSxcclxuICAgICAgICBwcm9wcyxcclxuICAgICAgICBjTGliLFxyXG4gICAgICAgIGFMaWIsXHJcbiAgICAgICAgU3ByaXRlLFxyXG4gICAgICAgIGZvcjogZnJhbWVGb3IsXHJcbiAgICAgICAgd2hpbGU6IGZyYW1lV2hpbGUsXHJcbiAgICAgICAgbG9vcDogZnJhbWVMb29wLFxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3ByaXRlQ2xhc3NULCBTcHJpdGVULCBhTGliVCwgY0xpYlQgfSBmcm9tIFwiLi9saWIvdHlwZXNcIjtcclxuaW1wb3J0IHsgc2luMzYwLCBjb3MzNjAgfSBmcm9tIFwiLi9saWIvdXRpbHNcIjtcclxuaW1wb3J0IHsgRGljdCB9IGZyb20gXCIuL2xpYi91dGlsc1wiO1xyXG5cclxudHlwZSBNb3ZlID0gbnVtYmVyIHwge1xyXG4gICAgdHlwZTogXCJzaW5cIiB8IFwiY29zXCIsXHJcbiAgICBhbXA6IG51bWJlcixcclxuICAgIGN5Y2xlOiBudW1iZXIsXHJcbn0gfCB7XHJcbiAgICB0eXBlOiBcImN1c3RvbVwiLFxyXG4gICAgZm46IChhZ2U6IG51bWJlcikgPT4gbnVtYmVyXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgYm9uZUZuc0dlbiA9IChjTGliOiBjTGliVCwgYUxpYjogYUxpYlQsIFNwcml0ZTogU3ByaXRlQ2xhc3NULCBwbGF5ZXI6IHtcclxuICAgIGRhbWFnZShhcmcwOiBudW1iZXIpOiB2b2lkOyBzb3VsOiBTcHJpdGVULCBocDogbnVtYmVyXHJcbn0pID0+IHtcclxuICAgIGxldCBib25lRGljdDogRGljdDxhbnk+ID0ge31cclxuICAgIGNsYXNzIG5vcm1hbEJvbmUgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgICAgIHByaXZhdGUgc3RhcnRfeDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgc3RhcnRfeTogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgc3RhcnRfZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgbW92ZV94OiBNb3ZlO1xyXG4gICAgICAgIHByaXZhdGUgbW92ZV95OiBNb3ZlO1xyXG4gICAgICAgIHByaXZhdGUgbW92ZV9kOiBNb3ZlO1xyXG4gICAgICAgIHByaXZhdGUgc3RhcnRfbGVuOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBtb3ZlX2xlbjogTW92ZTtcclxuICAgICAgICBwcml2YXRlIGxlbjogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgYWdlOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBpZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgd2lkdGg6IG51bWJlcjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih4OiBudW1iZXIsIHk6IG51bWJlciwgZDogbnVtYmVyLCB3aWR0aDogbnVtYmVyLCBsZW46IG51bWJlciwgbXg6IE1vdmUsIG15OiBNb3ZlLCBtZDogTW92ZSwgbWw6IE1vdmUsIGxpZmU6IG51bWJlcikge1xyXG4gICAgICAgICAgICBzdXBlcih4LCB5LCBkLCB3aWR0aCwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydF94ID0geDtcclxuICAgICAgICAgICAgdGhpcy5zdGFydF95ID0geTtcclxuICAgICAgICAgICAgdGhpcy5zdGFydF9kID0gZDtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlX3ggPSBteDtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlX3kgPSBteTtcclxuICAgICAgICAgICAgdGhpcy5tb3ZlX2QgPSBtZDtcclxuICAgICAgICAgICAgdGhpcy5zdGFydF9sZW4gPSBsZW47XHJcbiAgICAgICAgICAgIHRoaXMubW92ZV9sZW4gPSBtbDtcclxuICAgICAgICAgICAgdGhpcy5sZW4gPSBsZW47XHJcbiAgICAgICAgICAgIHRoaXMuYWdlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IG5vcm1hbEJvbmUuY3VycmVudF9pZDtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICBib25lRGljdFt0aGlzLmlkXSA9IHRoaXM7XHJcbiAgICAgICAgICAgIG5vcm1hbEJvbmUuY3VycmVudF9pZCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcml2YXRlIG1vdmVfc2VsZigpIHtcclxuICAgICAgICAgICAgdGhpcy5hZ2UrKztcclxuICAgICAgICAgICAgdGhpcy54ID0gdGhpcy5zdGFydF94ICsgbm9ybWFsQm9uZS5nZXRfbW92ZSh0aGlzLm1vdmVfeCwgdGhpcy5hZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLnkgPSB0aGlzLnN0YXJ0X3kgKyBub3JtYWxCb25lLmdldF9tb3ZlKHRoaXMubW92ZV95LCB0aGlzLmFnZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZCA9IHRoaXMuc3RhcnRfZCArIG5vcm1hbEJvbmUuZ2V0X21vdmUodGhpcy5tb3ZlX2QsIHRoaXMuYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5sZW4gPSB0aGlzLnN0YXJ0X2xlbiArIG5vcm1hbEJvbmUuZ2V0X21vdmUodGhpcy5tb3ZlX2xlbiwgdGhpcy5hZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcml2YXRlIGRyYXcoKSB7XHJcbiAgICAgICAgICAgIGNvczM2MCh0aGlzLmQpXHJcbiAgICAgICAgICAgIGNMaWIuc3RhbXAoXCJib25lX2hlYWRfd2hpdGVcIixcclxuICAgICAgICAgICAgICAgIHRoaXMueCArIGNvczM2MCh0aGlzLmQpICogdGhpcy53aWR0aCAqIDggLyA2LFxyXG4gICAgICAgICAgICAgICAgdGhpcy55IC0gc2luMzYwKHRoaXMuZCkgKiB0aGlzLndpZHRoICogOCAvIDYsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmQgKyAxODAsIHRoaXMud2lkdGggKiAxMDAgLyA2LCAxLCBcInN0YXJ0XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY0xpYi5kcmF3UmVjdChcclxuICAgICAgICAgICAgICAgIHRoaXMueCArIHNpbjM2MCh0aGlzLmQpICogdGhpcy53aWR0aCAqIDYgLyA2LFxyXG4gICAgICAgICAgICAgICAgdGhpcy55ICsgY29zMzYwKHRoaXMuZCkgKiB0aGlzLndpZHRoICogNiAvIDYsXHJcbiAgICAgICAgICAgICAgICB0aGlzLndpZHRoLCB0aGlzLmxlbiArIHRoaXMud2lkdGggKiAyIC8gNiwgXCJ3aGl0ZVwiLCB0aGlzLmQsIDEsXCJzdGFydFwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIGNMaWIuc3RhbXAoXCJib25lX2hlYWRfd2hpdGVcIixcclxuICAgICAgICAgICAgICAgIHRoaXMueCArIHNpbjM2MCh0aGlzLmQpICogKHRoaXMubGVuICsgdGhpcy53aWR0aCAqIDE0IC8gNikgLSBjb3MzNjAodGhpcy5kKSAqIHRoaXMud2lkdGggKiAyIC8gNixcclxuICAgICAgICAgICAgICAgIHRoaXMueSArIGNvczM2MCh0aGlzLmQpICogKHRoaXMubGVuICsgdGhpcy53aWR0aCAqIDE0IC8gNikgKyBzaW4zNjAodGhpcy5kKSAqIHRoaXMud2lkdGggKiAyIC8gNixcclxuICAgICAgICAgICAgICAgIHRoaXMuZCwgdGhpcy53aWR0aCAqIDEwMCAvIDYsIDEsIFwic3RhcnRcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwcml2YXRlIGp1ZGdlKCkge1xyXG4gICAgICAgICAgICAvL2NMaWIuZHJhd1JlY3QoXHJcbiAgICAgICAgICAgIC8vICAgIHRoaXMueCxcclxuICAgICAgICAgICAgLy8gICAgdGhpcy55LFxyXG4gICAgICAgICAgICAvLyAgICB0aGlzLndpZHRoLCB0aGlzLmxlbiArIHRoaXMud2lkdGggKiAxNCAvIDYsIFwicmVkXCIsIHRoaXMuZCwgXCJzdGFydFwiXHJcbiAgICAgICAgICAgIC8vKTtcclxuICAgICAgICAgICAgLy9jTGliLmRyYXdSZWN0KFxyXG4gICAgICAgICAgICAvLyAgICB0aGlzLnggKyBzaW4zNjAodGhpcy5kKSAqICh0aGlzLmxlbiAvIDIgKyB0aGlzLndpZHRoICogNyAvIDYpICsgY29zMzYwKHRoaXMuZCkgKiB0aGlzLndpZHRoICogMyAvIDYsXHJcbiAgICAgICAgICAgIC8vICAgIHRoaXMueSArIGNvczM2MCh0aGlzLmQpICogKHRoaXMubGVuIC8gMiArIHRoaXMud2lkdGggKiA3IC8gNikgLSBzaW4zNjAodGhpcy5kKSAqIHRoaXMud2lkdGggKiAzIC8gNixcclxuICAgICAgICAgICAgLy8gICAgdGhpcy53aWR0aCwgdGhpcy5sZW4gKyB0aGlzLndpZHRoICogMTQgLyA2LCBcImJsdWVcIiwgdGhpcy5kLCBcImNlbnRlcisrXCJcclxuICAgICAgICAgICAgLy8pO1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZV94ID0gcGxheWVyLnNvdWwueCAtIHRoaXMueDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlX3kgPSBwbGF5ZXIuc291bC55IC0gdGhpcy55O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHVybmVkX3ggPSByZWxhdGl2ZV94ICogY29zMzYwKHRoaXMuZCkgKyByZWxhdGl2ZV95ICogLXNpbjM2MCh0aGlzLmQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHVybmVkX3kgPSByZWxhdGl2ZV95ICogY29zMzYwKHRoaXMuZCkgKyByZWxhdGl2ZV94ICogc2luMzYwKHRoaXMuZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZW4gKyB0aGlzLndpZHRoICogMTQgLyA2ID4gdHVybmVkX3kgJiYgdHVybmVkX3kgPiAwICYmIHRoaXMud2lkdGggPiB0dXJuZWRfeCAmJiB0dXJuZWRfeCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZGFtYWdlKDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHByb2Nlc3MoKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gYm9uZURpY3QpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGJvbmUgPSBib25lRGljdFtpZF07XHJcbiAgICAgICAgICAgICAgICBib25lLm1vdmVfc2VsZigpO1xyXG4gICAgICAgICAgICAgICAgYm9uZS5kcmF3KCk7XHJcbiAgICAgICAgICAgICAgICBib25lLmp1ZGdlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgY3VycmVudF9pZCA9IDA7XHJcbiAgICAgICAgcHJpdmF0ZSBzdGF0aWMgZ2V0X21vdmUobW92ZTogTW92ZSwgYWdlOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG1vdmUgPT0gXCJudW1iZXJcIikgcmV0dXJuIG1vdmUgKiBhZ2U7XHJcbiAgICAgICAgICAgIHN3aXRjaCAobW92ZS50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwic2luXCI6XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY29zXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2luMzYwKG1vdmUuY3ljbGUgKiBhZ2UpICogbW92ZS5hbXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VzdG9tXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbW92ZS5mbihhZ2UpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJvY2VzcyA9ICgpID0+IHtcclxuICAgICAgICBub3JtYWxCb25lLnByb2Nlc3MoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGJvbmVEaWN0OiBib25lRGljdCBhcyBEaWN0PG5vcm1hbEJvbmU+LFxyXG4gICAgICAgIG5vcm1hbDogbm9ybWFsQm9uZSxcclxuICAgICAgICBwcm9jZXNzXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgZm9udERhdGFFbiBmcm9tIFwiLi9kYXRhL2ZvbnRfZW4uanNvblwiO1xyXG5pbXBvcnQgZm9udERhdGFTdGF0dXMgZnJvbSBcIi4vZGF0YS9mb250X3N0YXR1cy5qc29uXCI7XHJcblxyXG5pbXBvcnQgeyBjTGliVCwgaW5wdXRLZXlzVCB9IGZyb20gXCIuL2xpYi90eXBlc1wiO1xyXG5cclxuXHJcbnR5cGUgY2hhckRhdGFUID0ge1xyXG4gICAgbGVmdDogbnVtYmVyLFxyXG4gICAgdXA6IG51bWJlcixcclxuICAgIHdpZHRoOiBudW1iZXIsXHJcbiAgICBoZWlnaHQ6IG51bWJlcixcclxuICAgIGdhcDogbnVtYmVyLFxyXG59XHJcblxyXG50eXBlIEZvbnREYXRhVCA9IHR5cGVvZiBmb250RGF0YUVuO1xyXG5cclxuZXhwb3J0IGNvbnN0IGZvbnRGbnNHZW4gPSAoY0xpYjogY0xpYlQsIGlucHV0S2V5czogaW5wdXRLZXlzVCkgPT4ge1xyXG4gICAgY29uc3QgZm9udERhdGEgPSB7XHJcbiAgICAgICAgZW46IGZvbnREYXRhRW4sXHJcbiAgICAgICAgc3RhdHVzOiBmb250RGF0YVN0YXR1c1xyXG4gICAgfTtcclxuICAgIGxldCBkaXNwbGF5RGljdDogeyBba2V5czogc3RyaW5nXTogYW55IH0gPSB7fVxyXG4gICAgY2xhc3MgRm9udCB7XHJcbiAgICAgICAgbmFtZTogc3RyaW5nXHJcbiAgICAgICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nKSB7IHRoaXMubmFtZSA9IG5hbWUgfVxyXG4gICAgICAgIGRlbGV0ZSgpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGRpc3BsYXlEaWN0W3RoaXMubmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsYXNzIFN1cGVyIGV4dGVuZHMgRm9udCB7XHJcbiAgICAgICAgXzoge1xyXG4gICAgICAgICAgICBhbGxfc3RyOiBzdHJpbmcsXHJcbiAgICAgICAgICAgIG5vdzogeyBzdHI6IHN0cmluZywgY29sb3I6IHN0cmluZywgc3BhY2luZ194OiBudW1iZXIsIHNwYWNpbmdfeTogbnVtYmVyIH1bXSxcclxuICAgICAgICAgICAgbGVuX2FsbG93OiBudW1iZXIsXHJcbiAgICAgICAgICAgIGNvdW50OiBudW1iZXIsXHJcbiAgICAgICAgICAgIGN1cnJlbnRfY2hhcjogbnVtYmVyLFxyXG4gICAgICAgICAgICBjdXJyZW50X2NoYXJfdHJ1ZTogbnVtYmVyLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeDogbnVtYmVyO1xyXG4gICAgICAgIHk6IG51bWJlcjtcclxuICAgICAgICBkaXJlY3Rpb246IG51bWJlcjtcclxuICAgICAgICBzaXplOiBudW1iZXI7XHJcbiAgICAgICAgZGF0YTogeyBzdHI6IHN0cmluZywgc3BlZWQ6IG51bWJlciwgY29sb3I6IHN0cmluZywgc3BhY2luZ194OiBudW1iZXIsIHNwYWNpbmdfeTogbnVtYmVyIH1bXVxyXG4gICAgICAgIGZvbnQ6IEZvbnREYXRhVFxyXG4gICAgICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsIGQ6IG51bWJlciwgc2l6ZTogbnVtYmVyLCBmb250OiBzdHJpbmcsIGlucHV0OiB7IHN0cjogc3RyaW5nLCBzcGVlZDogbnVtYmVyLCBjb2xvcjogc3RyaW5nLCBzcGFjaW5nX3g6IG51bWJlciwgc3BhY2luZ195OiBudW1iZXIgfVtdKSB7XHJcbiAgICAgICAgICAgIHN1cGVyKG5hbWUpO1xyXG4gICAgICAgICAgICB0aGlzLl8gPSB7XHJcbiAgICAgICAgICAgICAgICBhbGxfc3RyOiBpbnB1dC5yZWR1Y2UoKGEsIGMpID0+IGEgKyBjLnN0ciwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBub3c6IFt7IHN0cjogXCJcIiwgY29sb3I6IGlucHV0WzBdLmNvbG9yLCBzcGFjaW5nX3g6IGlucHV0WzBdLnNwYWNpbmdfeCwgc3BhY2luZ195OiBpbnB1dFswXS5zcGFjaW5nX3kgfV0sXHJcbiAgICAgICAgICAgICAgICBsZW5fYWxsb3c6IDAsXHJcbiAgICAgICAgICAgICAgICBjb3VudDogMCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRfY2hhcjogMCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRfY2hhcl90cnVlOiAwLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZDtcclxuICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5kYXRhID0gaW5wdXQ7XHJcbiAgICAgICAgICAgIHRoaXMuZm9udCA9ICgoZikgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0YXR1c1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9udERhdGEuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb250RGF0YS5lbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkoZm9udClcclxuICAgICAgICAgICAgZGlzcGxheURpY3RbbmFtZV0gPSB0aGlzO1xyXG4gICAgICAgICAgICB0aGlzLnByb2Nlc3MoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd3JpdGUoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLnNpemU7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSB0aGlzLmRpcmVjdGlvbiAqIE1hdGguUEkgLyAxODA7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0X3N0cl9sZW5ndGggPSB0aGlzLl8ubm93LnJlZHVjZSgoYSwgYykgPT4gYSArIGMuc3RyLmxlbmd0aCwgMCk7XHJcbiAgICAgICAgICAgIGxldCB4ID0gMDtcclxuICAgICAgICAgICAgbGV0IHkgPSAwO1xyXG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBjaGFyRGF0YWYgPSAoKGM6IHN0cmluZyk6IGNoYXJEYXRhVCA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYyBpbiB0aGlzLmZvbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb250W2MgYXMga2V5b2YgRm9udERhdGFUXSBhcyB1bmtub3duIGFzIGNoYXJEYXRhVDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9udC5zcGFjZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5fLm5vdy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gZS5zdHIuc3BsaXQoXCJcIik7XHJcbiAgICAgICAgICAgICAgICBzLmZvckVhY2goKGMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyRGF0YSA9IGNoYXJEYXRhZihjKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjID09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5mb250LnByb3BzLmhlaWdodF9iYXNpYyArIGUuc3BhY2luZ195O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNMaWIuc3RhbXAodGhpcy5mb250LnByb3BzLm5hbWUgKyBcIl9cIiArIGUuY29sb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnggKyAoTWF0aC5jb3MoZCkgKiB4IC0gTWF0aC5zaW4oZCkgKiAoeSArIGNoYXJEYXRhLmdhcCAvIDIpKSAqIHNpemUgLyAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnkgKyAoTWF0aC5zaW4oZCkgKiB4ICsgTWF0aC5jb3MoZCkgKiAoeSArIGNoYXJEYXRhLmdhcCAvIDIpKSAqIHNpemUgLyAxMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpcmVjdGlvbiwgc2l6ZSwgMSwgXCJzdGFydFwiLCB7IGxlZnQ6IGNoYXJEYXRhLmxlZnQsIHRvcDogY2hhckRhdGEudXAsIHdpZHRoOiBjaGFyRGF0YS53aWR0aCwgaGVpZ2h0OiBjaGFyRGF0YS5oZWlnaHQgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnQgKyAxIDwgaW5wdXRfc3RyX2xlbmd0aCkgeCArPSBjaGFyRGF0YS53aWR0aCArIHRoaXMuZm9udC5wcm9wcy53aWR0aF9iYXNpYyArIGUuc3BhY2luZ194O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjb3VudCsrXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcm9jZXNzKCkge1xyXG4gICAgICAgICAgICBjb25zdCBpbnB1dF9zdHJfbGVuZ3RoID0gdGhpcy5kYXRhLnJlZHVjZSgoYSwgYykgPT4gYSArIGMuc3RyLmxlbmd0aCwgMCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl8ubGVuX2FsbG93ID09IGlucHV0X3N0cl9sZW5ndGggJiYgaW5wdXRLZXlzLnopIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBkaXNwbGF5RGljdFt0aGlzLm5hbWVdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlucHV0S2V5cy54KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8ubGVuX2FsbG93ID0gaW5wdXRfc3RyX2xlbmd0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuXy5jdXJyZW50X2NoYXIgPSBpbnB1dF9zdHJfbGVuZ3RoO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuXy5sZW5fYWxsb3cgPCBpbnB1dF9zdHJfbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl8ubGVuX2FsbG93ICs9IDEgLyB0aGlzLmRhdGFbdGhpcy5fLmNvdW50XS5zcGVlZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuXy5jdXJyZW50X2NoYXIgKz0gMSAvIHRoaXMuZGF0YVt0aGlzLl8uY291bnRdLnNwZWVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl8uY3VycmVudF9jaGFyX3RydWUgPCBNYXRoLm1pbih0aGlzLl8ubGVuX2FsbG93LCBpbnB1dF9zdHJfbGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fLm5vd1t0aGlzLl8uY291bnRdLnN0ciArPSB0aGlzLmRhdGFbdGhpcy5fLmNvdW50XS5zdHJbdGhpcy5fLm5vd1t0aGlzLl8uY291bnRdLnN0ci5sZW5ndGhdO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fLmN1cnJlbnRfY2hhcl90cnVlKytcclxuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLmRhdGFbdGhpcy5fLmNvdW50XS5zdHIubGVuZ3RoIDw9IHRoaXMuXy5ub3dbdGhpcy5fLmNvdW50XS5zdHIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuXy5jb3VudCArIDEgPCB0aGlzLmRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXy5jb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl8ubm93LnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICgodGhpcy5kYXRhW3RoaXMuXy5jb3VudF0uY29sb3IgPT09IHVuZGVmaW5lZCkgPyBcIndoaXRlXCIgOiB0aGlzLmRhdGFbdGhpcy5fLmNvdW50XS5jb2xvciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFjaW5nX3g6IHRoaXMuZGF0YVt0aGlzLl8uY291bnRdLnNwYWNpbmdfeCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNpbmdfeTogdGhpcy5kYXRhW3RoaXMuXy5jb3VudF0uc3BhY2luZ195XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuXy5jdXJyZW50X2NoYXIgLT0gdGhpcy5kYXRhW3RoaXMuXy5jb3VudF0uc3RyLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNsYXNzIFBsYW5lIGV4dGVuZHMgRm9udCB7XHJcbiAgICAgICAgc3RyX25vdzogc3RyaW5nO1xyXG4gICAgICAgIGxlbl9ub3c6IG51bWJlcjtcclxuICAgICAgICBzdHI6IHN0cmluZztcclxuICAgICAgICB4OiBudW1iZXI7XHJcbiAgICAgICAgeTogbnVtYmVyO1xyXG4gICAgICAgIGRpcmVjdGlvbjogbnVtYmVyO1xyXG4gICAgICAgIHNpemU6IG51bWJlcjtcclxuICAgICAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgICAgIHNwYWNpbmdfeDogbnVtYmVyO1xyXG4gICAgICAgIHNwYWNpbmdfeTogbnVtYmVyO1xyXG4gICAgICAgIHNwZWVkOiBudW1iZXI7XHJcbiAgICAgICAgZm9udDogRm9udERhdGFUO1xyXG4gICAgICAgIGxlbl9hbGxvdzogbnVtYmVyO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgc3RyOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkOiBudW1iZXIsIHNpemU6IG51bWJlciwgY29sb3I6IHN0cmluZywgc3BhY2luZ194OiBudW1iZXIsIHNwYWNpbmdfeTogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCBmb250OiBzdHJpbmcpIHtcclxuICAgICAgICAgICAgc3VwZXIobmFtZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc3RyX25vdyA9IFwiXCI7XHJcbiAgICAgICAgICAgIHRoaXMubGVuX25vdyA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuc3RyID0gc3RyXHJcbiAgICAgICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZDtcclxuICAgICAgICAgICAgdGhpcy5zaXplID0gc2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLnNwYWNpbmdfeCA9IHNwYWNpbmdfeDtcclxuICAgICAgICAgICAgdGhpcy5zcGFjaW5nX3kgPSBzcGFjaW5nX3k7XHJcbiAgICAgICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcclxuICAgICAgICAgICAgdGhpcy5mb250ID0gKChmKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3RhdHVzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb250RGF0YS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZvbnREYXRhLmVuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KShmb250KVxyXG4gICAgICAgICAgICB0aGlzLmxlbl9hbGxvdyA9IDA7XHJcbiAgICAgICAgICAgIGRpc3BsYXlEaWN0W25hbWVdID0gdGhpcztcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdyaXRlKCkge1xyXG4gICAgICAgICAgICBjb25zdCBjaGFycyA9IHRoaXMuc3RyX25vdztcclxuICAgICAgICAgICAgY29uc3Qgc2l6ZSA9IHRoaXMuc2l6ZTtcclxuICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGlyZWN0aW9uICogTWF0aC5QSSAvIDE4MDtcclxuICAgICAgICAgICAgbGV0IHgsIHk7XHJcbiAgICAgICAgICAgIFt4LCB5XSA9IFswLCAwXTtcclxuICAgICAgICAgICAgY29uc3QgY2hhckRhdGFmID0gKChjOiBzdHJpbmcpOiBjaGFyRGF0YVQgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGMgaW4gdGhpcy5mb250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9udFtjIGFzIGtleW9mIEZvbnREYXRhVF0gYXMgdW5rbm93biBhcyBjaGFyRGF0YVQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvbnQuc3BhY2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJEYXRhOiBjaGFyRGF0YVQgPSBjaGFyRGF0YWYoY2hhcnNbaV0gYXMga2V5b2YgRm9udERhdGFUKVxyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJzW2ldID09IFwiXFxuXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9IHRoaXMuZm9udC5wcm9wcy5oZWlnaHRfYmFzaWMgKyB0aGlzLnNwYWNpbmdfeTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY0xpYi5zdGFtcCh0aGlzLmZvbnQucHJvcHMubmFtZSArIFwiX1wiICsgKCF0aGlzLmNvbG9yID8gXCJ3aGl0ZVwiIDogdGhpcy5jb2xvciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueCArIChNYXRoLmNvcyhkKSAqIHggLSBNYXRoLnNpbihkKSAqICh5IC0gY2hhckRhdGEuZ2FwKSkgKiBzaXplIC8gMTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnkgKyAoTWF0aC5zaW4oZCkgKiB4ICsgTWF0aC5jb3MoZCkgKiAoeSAtIGNoYXJEYXRhLmdhcCkpICogc2l6ZSAvIDEwMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaXJlY3Rpb24sIHNpemUsIDEsIFwic3RhcnRcIiwgeyBsZWZ0OiBjaGFyRGF0YS5sZWZ0LCB0b3A6IGNoYXJEYXRhLnVwLCB3aWR0aDogY2hhckRhdGEud2lkdGgsIGhlaWdodDogY2hhckRhdGEuaGVpZ2h0IH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpICsgMSA8IGNoYXJzLmxlbmd0aCkgeCArPSBjaGFyRGF0YS53aWR0aCArIHRoaXMuZm9udC5wcm9wcy53aWR0aF9iYXNpYyArIHRoaXMuc3BhY2luZ194O1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwcm9jZXNzKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZW5fYWxsb3cgPT0gdGhpcy5zdHIubGVuZ3RoICYmIGlucHV0S2V5cy56KSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgZGlzcGxheURpY3RbdGhpcy5uYW1lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpbnB1dEtleXMueCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZW5fYWxsb3cgPSB0aGlzLnN0ci5sZW5ndGhcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmxlbl9hbGxvdyA8IHRoaXMuc3RyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sZW5fYWxsb3cgKz0gMSAvIHRoaXMuc3BlZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RyX25vdy5sZW5ndGggPCBNYXRoLm1pbih0aGlzLmxlbl9hbGxvdywgdGhpcy5zdHIubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdHJfbm93ICs9IHRoaXMuc3RyW3RoaXMuc3RyX25vdy5sZW5ndGhdO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcHJvY2VzcyA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IG5hbWUgaW4gZGlzcGxheURpY3QpIHtcclxuICAgICAgICAgICAgZGlzcGxheURpY3RbbmFtZV0ucHJvY2VzcygpXHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKlxyXG4gICAgICpUZW1wbGF0ZVxyXG4gICAgICpuZXcgRm9udFN1cGVyKFwibmFtZVwiLCA2NCwgMTI4LCAwLCA0MDAsIFwiZGV0ZXJtaW5hdGlvblwiLCBbXHJcbiAgICAgKiAgICB7IHN0cjogXCJ0ZXh0XCIsIGNvbG9yOiBcIndoaXRlXCIsIHNwYWNpbmdfeDogMCwgc3BhY2luZ195OiAwLCBzcGVlZDogMiB9LFxyXG4gICAgICpdKVxyXG4gICAgICovXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIFN1cGVyLFxyXG4gICAgICAgIFBsYW5lLFxyXG4gICAgICAgIHByb2Nlc3MsXHJcbiAgICAgICAgZGljdDogZGlzcGxheURpY3QgYXMgKFBsYW5lIHwgU3VwZXIpW10sXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHRtcCA9IGNsYXNzIFBsYW5lIHtcclxuICAgIHN0cl9ub3c6IHN0cmluZztcclxuICAgIGxlbl9ub3c6IG51bWJlcjtcclxuICAgIHN0cjogc3RyaW5nO1xyXG4gICAgeDogbnVtYmVyO1xyXG4gICAgeTogbnVtYmVyO1xyXG4gICAgZGlyZWN0aW9uOiBudW1iZXI7XHJcbiAgICBzaXplOiBudW1iZXI7XHJcbiAgICBjb2xvcjogc3RyaW5nO1xyXG4gICAgc3BhY2luZ194OiBudW1iZXI7XHJcbiAgICBzcGFjaW5nX3k6IG51bWJlcjtcclxuICAgIHNwZWVkOiBudW1iZXI7XHJcbiAgICBmb250OiBGb250RGF0YVQ7XHJcbiAgICBsZW5fYWxsb3c6IG51bWJlcjtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgc3RyOiBzdHJpbmcsIHg6IG51bWJlciwgeTogbnVtYmVyLCBkOiBudW1iZXIsIHNpemU6IG51bWJlciwgY29sb3I6IHN0cmluZywgc3BhY2luZ194OiBudW1iZXIsIHNwYWNpbmdfeTogbnVtYmVyLCBzcGVlZDogbnVtYmVyLCBmb250OiBzdHJpbmcpIHtcclxuICAgICAgICB0aGlzLnN0cl9ub3cgPSBcIlwiO1xyXG4gICAgICAgIHRoaXMubGVuX25vdyA9IDA7XHJcbiAgICAgICAgdGhpcy5zdHIgPSBzdHJcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkO1xyXG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuc3BhY2luZ194ID0gc3BhY2luZ194O1xyXG4gICAgICAgIHRoaXMuc3BhY2luZ195ID0gc3BhY2luZ195O1xyXG4gICAgICAgIHRoaXMuc3BlZWQgPSBzcGVlZDtcclxuICAgICAgICB0aGlzLmZvbnQgPSB1bmRlZmluZWQgYXMgdW5rbm93biBhcyBGb250RGF0YVQ7XHJcbiAgICAgICAgdGhpcy5sZW5fYWxsb3cgPSAwO1xyXG4gICAgfVxyXG4gICAgd3JpdGUoKSB7fTtcclxuICAgIHByb2Nlc3MoKSB7fTtcclxuICAgIGRlbGV0ZSgpIHt9O1xyXG59XHJcbmV4cG9ydCB0eXBlIFBsYW5lID0gdHlwZW9mIHRtcDsiLCJpbXBvcnQgeyBTcHJpdGVULCBjTGliVCB9IGZyb20gXCIuL2xpYi90eXBlc1wiO1xyXG5pbXBvcnQgeyBjb3MzNjAsIHNpbjM2MCB9IGZyb20gXCIuL2xpYi91dGlsc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEJveEZuc0dlbiA9IChjTGliOiBjTGliVCwgc291bDogU3ByaXRlVCkgPT4ge1xyXG4gICAgY2xhc3MgV2FsbCB7XHJcbiAgICAgICAgZHg6IG51bWJlcjtcclxuICAgICAgICBkeTogbnVtYmVyO1xyXG4gICAgICAgIGRkOiBudW1iZXI7XHJcbiAgICAgICAgbGVuOiBudW1iZXI7XHJcbiAgICAgICAgd2lkdGg6IG51bWJlcjtcclxuICAgICAgICBhbGlnbjogXCJjZW50ZXJcIiB8IFwic3RhcnRcIjtcclxuICAgICAgICByZWxhdGl2ZTogXCJtaW51c1wiIHwgXCJ1bmtub3duXCIgfCBcInBsdXNcIlxyXG4gICAgICAgIHNvdWxfc2l6ZTogbnVtYmVyO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIGRkOiBudW1iZXIsIGxlbjogbnVtYmVyLCBhbGlnbjogXCJjZW50ZXJcIiB8IFwic3RhcnRcIiwgcmVsYXRpdmU/OiBcIm1pbnVzXCIgfCBcInBsdXNcIiwgd2lkdGg6IG51bWJlciA9IDQpIHtcclxuICAgICAgICAgICAgdGhpcy5keCA9IGR4O1xyXG4gICAgICAgICAgICB0aGlzLmR5ID0gZHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGQgPSBkZDtcclxuICAgICAgICAgICAgdGhpcy5sZW4gPSBsZW47XHJcbiAgICAgICAgICAgIHRoaXMuYWxpZ24gPSBhbGlnbjtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNvdWxfc2l6ZSA9IDY7XHJcbiAgICAgICAgICAgIHRoaXMucmVsYXRpdmUgPSByZWxhdGl2ZSA/IHJlbGF0aXZlIDogKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGQgPSB0aGlzLmRkXHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGl2ZV94ID0gc291bC54IC0gdGhpcy5keDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlX3kgPSBzb3VsLnkgLSB0aGlzLmR5O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHVybmVkX3kgPSByZWxhdGl2ZV95ICogY29zMzYwKGQpICsgcmVsYXRpdmVfeCAqIHNpbjM2MChkKTtcclxuICAgICAgICAgICAgICAgIGlmICh0dXJuZWRfeSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJwbHVzXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibWludXNcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KSgpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGp1ZGdlKCkge1xyXG4gICAgICAgICAgICBjb25zdCBkID0gdGhpcy5kZFxyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZV94ID0gc291bC54IC0gdGhpcy5keDtcclxuICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVfeSA9IHNvdWwueSAtIHRoaXMuZHk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cm5lZF94ID0gcmVsYXRpdmVfeCAqIGNvczM2MChkKSArIHJlbGF0aXZlX3kgKiAtc2luMzYwKGQpO1xyXG4gICAgICAgICAgICBjb25zdCB0dXJuZWRfeSA9IHJlbGF0aXZlX3kgKiBjb3MzNjAoZCkgKyByZWxhdGl2ZV94ICogc2luMzYwKGQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5sZW4gLyAyID4gdHVybmVkX3ggJiYgdHVybmVkX3ggPiAtdGhpcy5sZW4gLyAyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yZWxhdGl2ZSA9PSBcIm1pbnVzXCIgJiYgdHVybmVkX3kgPiAtKHRoaXMud2lkdGggLyAyICsgdGhpcy5zb3VsX3NpemUpIHx8IHRoaXMucmVsYXRpdmUgPT0gXCJwbHVzXCIgJiYgKHRoaXMud2lkdGggLyAyICsgdGhpcy5zb3VsX3NpemUpID4gdHVybmVkX3kpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5lZF94ID0gdHVybmVkX3ggKiBjb3MzNjAoLWQpICsgKCh0aGlzLndpZHRoIC8gMiArIHRoaXMuc291bF9zaXplKSAqICh0aGlzLnJlbGF0aXZlID09IFwibWludXNcIiA/IDEgOiAtMSkpICogc2luMzYwKC1kKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5lZF95ID0gKCh0aGlzLndpZHRoIC8gMiArIHRoaXMuc291bF9zaXplKSAqICh0aGlzLnJlbGF0aXZlID09IFwibWludXNcIiA/IDEgOiAtMSkpICogLWNvczM2MCgtZCkgKyB0dXJuZWRfeCAqIHNpbjM2MCgtZClcclxuICAgICAgICAgICAgICAgICAgICBzb3VsLnggPSByZXR1cm5lZF94ICsgdGhpcy5keDtcclxuICAgICAgICAgICAgICAgICAgICBzb3VsLnkgPSByZXR1cm5lZF95ICsgdGhpcy5keTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0dXJuZWRfeSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbGF0aXZlID0gXCJwbHVzXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWxhdGl2ZSA9IFwibWludXNcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRyYXcoKSB7XHJcbiAgICAgICAgICAgIGNMaWIuZHJhd1JlY3QodGhpcy5keCwgdGhpcy5keSwgdGhpcy5sZW4sIHRoaXMud2lkdGgsIFwid2hpdGVcIiwgdGhpcy5kZCwxLCBcImNlbnRlcisrXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsYXNzIFdhbGwyIHtcclxuICAgICAgICBkeDogbnVtYmVyO1xyXG4gICAgICAgIGR5OiBudW1iZXI7XHJcbiAgICAgICAgZGQ6IG51bWJlcjtcclxuICAgICAgICB3aWR0aDogbnVtYmVyO1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKGR4OiBudW1iZXIsIGR5OiBudW1iZXIsIGRkOiBudW1iZXIsIHdpZHRoOiBudW1iZXIgPSA0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHggPSBkeDtcclxuICAgICAgICAgICAgdGhpcy5keSA9IGR5O1xyXG4gICAgICAgICAgICB0aGlzLmRkID0gZGQ7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAganVkZ2UoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGQgPSB0aGlzLmRkXHJcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlX3ggPSBzb3VsLnggLSB0aGlzLmR4O1xyXG4gICAgICAgICAgICBjb25zdCByZWxhdGl2ZV95ID0gc291bC55IC0gdGhpcy5keTtcclxuICAgICAgICAgICAgY29uc3QgdHVybmVkX3ggPSByZWxhdGl2ZV94ICogY29zMzYwKGQpICsgcmVsYXRpdmVfeSAqIC1zaW4zNjAoZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cm5lZF95ID0gcmVsYXRpdmVfeSAqIGNvczM2MChkKSArIHJlbGF0aXZlX3ggKiBzaW4zNjAoZCk7XHJcbiAgICAgICAgICAgIGlmICh0dXJuZWRfeSA+IC10aGlzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5lZF94ID0gdHVybmVkX3ggKiBjb3MzNjAoLWQpICsgdGhpcy53aWR0aCAqIHNpbjM2MCgtZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXR1cm5lZF95ID0gdGhpcy53aWR0aCAqIC1jb3MzNjAoLWQpICsgdHVybmVkX3ggKiBzaW4zNjAoLWQpXHJcbiAgICAgICAgICAgICAgICBzb3VsLnggPSByZXR1cm5lZF94ICsgdGhpcy5keDtcclxuICAgICAgICAgICAgICAgIHNvdWwueSA9IHJldHVybmVkX3kgKyB0aGlzLmR5O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBkcmF3KCkge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5keCArIDMyMCAqIHNpbjM2MCh0aGlzLmRkKVxyXG4gICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5keSArIDMyMCAqIGNvczM2MCh0aGlzLmRkKVxyXG4gICAgICAgICAgICBjTGliLmRyYXdSZWN0KHgsIHksIDY0MCwgNjQwLCBcIiNmZmZmZmY4OFwiLCB0aGlzLmRkLCAxLFwiY2VudGVyKytcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc3QgYm94ID0ge1xyXG4gICAgICAgIGNlbnRlcl94OiAzMjAsXHJcbiAgICAgICAgY2VudGVyX3k6IDI0MCxcclxuICAgICAgICBkaXJlOiAwLFxyXG4gICAgICAgIHdpZHRoOiAxMDAsXHJcbiAgICAgICAgaGVpZ2h0OiAxMDAsXHJcbiAgICAgICAgdGhpY2tuZXNzOiA2LFxyXG4gICAgICAgIHdhbGxzOiBbXSBhcyBXYWxsMltdLFxyXG4gICAgICAgIGRyYXcoKSB7XHJcbiAgICAgICAgICAgIHRoaXMud2FsbHMuZm9yRWFjaChlID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHd4ID0gZS5keCArIDY0MCAqIHNpbjM2MChlLmRkKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHd5ID0gZS5keSArIDY0MCAqIGNvczM2MChlLmRkKTtcclxuICAgICAgICAgICAgICAgIGNMaWIuZHJhd1JlY3Qod3gsIHd5LCAxMjgwLCAxMjgwLCBcIiNmZmZmZmZcIiwgZS5kZCwgMSxcImNlbnRlcisrXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy53YWxscy5mb3JFYWNoKGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3ggPSBlLmR4ICsgNjQwICogc2luMzYwKGUuZGQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgd3kgPSBlLmR5ICsgNjQwICogY29zMzYwKGUuZGQpO1xyXG4gICAgICAgICAgICAgICAgY0xpYi5kcmF3UmVjdCh3eCwgd3ksIDEyODAgLSBlLndpZHRoICogMiwgMTI4MCAtIGUud2lkdGggKiAyLCBcIiMwMDAwMDBcIiwgZS5kZCwxLCBcImNlbnRlcisrXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGp1ZGdlKCkge1xyXG4gICAgICAgICAgICB0aGlzLndhbGxzLmZvckVhY2goZSA9PiB7IGUuanVkZ2UoKSB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGlyZTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLmNlbnRlcl94O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuY2VudGVyX3k7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3YWxsID0gdGhpcy53YWxsc1swXTtcclxuICAgICAgICAgICAgICAgIHdhbGwuZGQgPSBkO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5keCA9IHggKyAodGhpcy5oZWlnaHQgLyAyKSAqIHNpbjM2MChkKTtcclxuICAgICAgICAgICAgICAgIHdhbGwuZHkgPSB5ICsgKHRoaXMuaGVpZ2h0IC8gMikgKiBjb3MzNjAoZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IHRoaXMuZGlyZSArIDkwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuY2VudGVyX3g7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5jZW50ZXJfeTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGwgPSB0aGlzLndhbGxzWzFdO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5kZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICB3YWxsLmR4ID0geCArICh0aGlzLmhlaWdodCAvIDIpICogc2luMzYwKGQpO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5keSA9IHkgKyAodGhpcy5oZWlnaHQgLyAyKSAqIGNvczM2MChkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gdGhpcy5kaXJlICsgMTgwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuY2VudGVyX3g7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5jZW50ZXJfeTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGwgPSB0aGlzLndhbGxzWzJdO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5kZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICB3YWxsLmR4ID0geCArICh0aGlzLmhlaWdodCAvIDIpICogc2luMzYwKGQpO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5keSA9IHkgKyAodGhpcy5oZWlnaHQgLyAyKSAqIGNvczM2MChkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkID0gdGhpcy5kaXJlICsgMjcwO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IHRoaXMuY2VudGVyX3g7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5jZW50ZXJfeTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHdhbGwgPSB0aGlzLndhbGxzWzNdO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5kZCA9IGQ7XHJcbiAgICAgICAgICAgICAgICB3YWxsLmR4ID0geCArICh0aGlzLmhlaWdodCAvIDIpICogc2luMzYwKGQpO1xyXG4gICAgICAgICAgICAgICAgd2FsbC5keSA9IHkgKyAodGhpcy5oZWlnaHQgLyAyKSAqIGNvczM2MChkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5pdCgpIHtcclxuICAgICAgICAgICAgdGhpcy53YWxscy5wdXNoKG5ldyBXYWxsMigwLCAwLCAwLCB0aGlzLnRoaWNrbmVzcykpO1xyXG4gICAgICAgICAgICB0aGlzLndhbGxzLnB1c2gobmV3IFdhbGwyKDAsIDAsIDkwLCB0aGlzLnRoaWNrbmVzcykpO1xyXG4gICAgICAgICAgICB0aGlzLndhbGxzLnB1c2gobmV3IFdhbGwyKDAsIDAsIDE4MCwgdGhpcy50aGlja25lc3MpKTtcclxuICAgICAgICAgICAgdGhpcy53YWxscy5wdXNoKG5ldyBXYWxsMigwLCAwLCAyNzAsIHRoaXMudGhpY2tuZXNzKSk7XHJcbiAgICAgICAgfSxcclxuICAgIH1cclxuICAgIGJveC5pbml0KCk7XHJcbiAgICByZXR1cm4geyBXYWxsLCBib3ggfTtcclxufSIsImltcG9ydCB7IFNwcml0ZUNsYXNzVCwgU3ByaXRlVCwgYUxpYlQsIGNMaWJUIH0gZnJvbSBcIi4vbGliL3R5cGVzXCI7XHJcbmltcG9ydCB7IHNpbjM2MCwgY29zMzYwIH0gZnJvbSBcIi4vbGliL3V0aWxzXCI7XHJcbmltcG9ydCB7IERpY3QgfSBmcm9tIFwiLi9saWIvdXRpbHNcIjtcclxuXHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IGdiRm5zR2VuID0gKGNMaWI6IGNMaWJULCBhTGliOiBhTGliVCwgU3ByaXRlOiBTcHJpdGVDbGFzc1QsIHBsYXllcjoge1xyXG4gICAgZGFtYWdlKGFyZzA6IG51bWJlcik6IHZvaWQ7IHNvdWw6IFNwcml0ZVQsIGhwOiBudW1iZXJcclxufSkgPT4ge1xyXG4gICAgbGV0IGdiRGljdDogRGljdDxhbnk+ID0ge31cclxuICAgIGNsYXNzIEJsYXN0ZXIgZXh0ZW5kcyBTcHJpdGUge1xyXG4gICAgICAgIHByaXZhdGUgc194OiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBzX3k6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIHNfZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgdF94OiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSB0X3k6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIHRfZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgYWdlOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBpZDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgd2lkdGg6IG51bWJlcjtcclxuICAgICAgICBwcml2YXRlIGNfdDogbnVtYmVyO1xyXG4gICAgICAgIHByaXZhdGUgYl9zOiBudW1iZXI7XHJcbiAgICAgICAgcHJpdmF0ZSBiX2Q6IG51bWJlcjtcclxuICAgICAgICBjb25zdHJ1Y3Rvcih0eDogbnVtYmVyLCB0eTogbnVtYmVyLCB0ZDogbnVtYmVyLCBmeDogbnVtYmVyLCBmeTogbnVtYmVyLCBmZDogbnVtYmVyLCBzaXplOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGN0OiBudW1iZXIsIGJzOiBudW1iZXIsIGJkOiBudW1iZXIpIHtcclxuICAgICAgICAgICAgc3VwZXIoZngsIGZ5LCBmZCwgc2l6ZSwgXCJnYl8xXCIsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLnNfeCA9IGZ4O1xyXG4gICAgICAgICAgICB0aGlzLnNfeSA9IGZ5O1xyXG4gICAgICAgICAgICB0aGlzLnNfZCA9IGZkO1xyXG4gICAgICAgICAgICB0aGlzLnRfeCA9IHR4O1xyXG4gICAgICAgICAgICB0aGlzLnRfeSA9IHR5O1xyXG4gICAgICAgICAgICB0aGlzLnRfZCA9IHRkO1xyXG4gICAgICAgICAgICB0aGlzLmNfdCA9IGN0O1xyXG4gICAgICAgICAgICB0aGlzLmJfcyA9IGJzO1xyXG4gICAgICAgICAgICB0aGlzLmJfZCA9IGJkO1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuYWdlID0gMDtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IEJsYXN0ZXIuY3VycmVudF9pZDtcclxuICAgICAgICAgICAgZ2JEaWN0W0JsYXN0ZXIuY3VycmVudF9pZF0gPSB0aGlzO1xyXG4gICAgICAgICAgICBCbGFzdGVyLmN1cnJlbnRfaWQrK1xyXG4gICAgICAgICAgICBhTGliLnBsYXkoXCJnYl9jaGFyZ2VcIiwgMSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBtb3ZlX3NlbGYoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmFnZSA8IHRoaXMuY190KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmF0aW8gPSAoKHRoaXMuY190IC0gdGhpcy5hZ2UpICoqIDQpIC8gKHRoaXMuY190ICoqIDQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy54ID0gcmF0aW8gKiB0aGlzLnNfeCArICgxIC0gcmF0aW8pICogdGhpcy50X3g7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSByYXRpbyAqIHRoaXMuc195ICsgKDEgLSByYXRpbykgKiB0aGlzLnRfeTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZCA9IHJhdGlvICogdGhpcy5zX2QgKyAoMSAtIHJhdGlvKSAqIHRoaXMudF9kO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmF0aW8pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYWdlID09IHRoaXMuY190KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLnRfeDtcclxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMudF95O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kID0gdGhpcy50X2Q7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuYl9zICsgdGhpcy5jX3QgPD0gdGhpcy5hZ2UgJiYgLTY0MCA8IHRoaXMueCAmJiB0aGlzLnggPCA2NDAgJiYgLTY0MCA8IHRoaXMueSAmJiB0aGlzLnkgPCA2NDApIHtcclxuICAgICAgICAgICAgICAgIGxldCBmYXIgPSAoKHRoaXMuYWdlIC0gKHRoaXMuYl9zICsgdGhpcy5jX3QpKSAqKiAyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMudF94O1xyXG4gICAgICAgICAgICAgICAgdGhpcy55ID0gdGhpcy50X3k7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmUoZmFyIC8gMik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBkcmF3KCkge1xyXG4gICAgICAgICAgICBjb25zdCBsZW4gPSA0ODAwO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iX3MgKyB0aGlzLmNfdCA8IHRoaXMuYWdlKSB7XHJcbiAgICAgICAgICAgICAgICBjTGliLmRyYXdSZWN0KFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMueCArIHNpbjM2MCh0aGlzLmQpICogbGVuIC8gLTIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy55ICsgY29zMzYwKHRoaXMuZCkgKiBsZW4gLyAtMixcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLndpZHRoICogdGhpcy5zaXplIC8gNSAqICgxICsgc2luMzYwKHRoaXMuYWdlICogMTApICogMC4yKSxcclxuICAgICAgICAgICAgICAgICAgICBsZW4sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJ3aGl0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZCArIDE4MCxcclxuICAgICAgICAgICAgICAgICAgICBNYXRoLm1pbigodGhpcy5iX2QgKyB0aGlzLmJfcyArIHRoaXMuY190IC0gdGhpcy5hZ2UpIC8gMTUsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiY2VudGVyKytcIlxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5hZ2UgPT0gdGhpcy5iX3MgKyB0aGlzLmNfdCAtIDIpIHRoaXMuY29zdHVtZSA9IFwiZ2JfMlwiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hZ2UgPT0gdGhpcy5iX3MgKyB0aGlzLmNfdCAtIDEpIHRoaXMuY29zdHVtZSA9IFwiZ2JfM1wiO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hZ2UgPT0gdGhpcy5iX3MgKyB0aGlzLmNfdCkgdGhpcy5jb3N0dW1lID0gXCJnYl80XCI7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJfcyArIHRoaXMuY190IDwgdGhpcy5hZ2UpIHRoaXMuY29zdHVtZSA9IGBnYl8keyh0aGlzLmFnZSAtICh0aGlzLmJfcyArIHRoaXMuY190KSkgJSAyICsgNX1gO1xyXG4gICAgICAgICAgICB0aGlzLnN0YW1wKClcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJpdmF0ZSBqdWRnZSgpIHtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbGVuID0gNDgwMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aXZlX3ggPSBwbGF5ZXIuc291bC54IC0gdGhpcy54O1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpdmVfeSA9IHBsYXllci5zb3VsLnkgLSB0aGlzLnk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0dXJuZWRfeCA9IHJlbGF0aXZlX3ggKiBjb3MzNjAodGhpcy5kKSArIHJlbGF0aXZlX3kgKiAtc2luMzYwKHRoaXMuZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0dXJuZWRfeSA9IHJlbGF0aXZlX3kgKiBjb3MzNjAodGhpcy5kKSArIHJlbGF0aXZlX3ggKiBzaW4zNjAodGhpcy5kKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmJfcyArIHRoaXMuY190IDw9IHRoaXMuYWdlICYmIDAgPiB0dXJuZWRfeSAmJiB0aGlzLndpZHRoICogdGhpcy5zaXplIC8gMTAgPiB0dXJuZWRfeCAmJiB0dXJuZWRfeCA+IC10aGlzLndpZHRoICogdGhpcy5zaXplIC8gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuZGFtYWdlKDIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBwdWJsaWMgc3RhdGljIHByb2Nlc3MoKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgaW4gZ2JEaWN0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnYiA9IGdiRGljdFtpZF0gYXMgQmxhc3RlcjtcclxuICAgICAgICAgICAgICAgIGdiLm1vdmVfc2VsZigpO1xyXG4gICAgICAgICAgICAgICAgZ2IuZHJhdygpO1xyXG4gICAgICAgICAgICAgICAgZ2IuanVkZ2UoKTtcclxuICAgICAgICAgICAgICAgIGdiLmFnZSsrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdiLmJfZCArIGdiLmJfcyA9PSBnYi5hZ2UpIGFMaWIucGxheShcImdiX2ZpcmVcIiwgMSlcclxuICAgICAgICAgICAgICAgIGlmIChnYi5iX2QgKyBnYi5iX3MgKyBnYi5jX3QgPD0gZ2IuYWdlKSBkZWxldGUgZ2JEaWN0W2lkXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByaXZhdGUgc3RhdGljIGN1cnJlbnRfaWQgPSAwO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcHJvY2VzcyA9ICgpID0+IHtcclxuICAgICAgICBCbGFzdGVyLnByb2Nlc3MoKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdiRGljdDogZ2JEaWN0IGFzIERpY3Q8Qmxhc3Rlcj4sXHJcbiAgICAgICAgZ2I6IEJsYXN0ZXIsXHJcbiAgICAgICAgcHJvY2Vzc1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgaW5pdCB9IGZyb20gXCIuL2xpYi9jb3JlXCI7XHJcbmltcG9ydCB7IENvcmVULCBTcHJpdGVULCBTcHJpdGVDbGFzc1QsIGNMaWJUIH0gZnJvbSBcIi4vbGliL3R5cGVzXCI7XHJcbmltcG9ydCB7IERpY3QsIE9wdCwgc2luMzYwLCBkaXN0YW5jZSwgY29zMzYwIH0gZnJvbSBcIi4vbGliL3V0aWxzXCI7XHJcbmltcG9ydCBjb25maWcgZnJvbSBcIi4vY29uZmlnLmpzb25cIjtcclxuaW1wb3J0IHsgYm9uZUZuc0dlbiB9IGZyb20gXCIuL2JvbmVcIjtcclxuaW1wb3J0IHsgZm9udEZuc0dlbiwgUGxhbmUgYXMgRm9udFBsYW5lVCB9IGZyb20gXCIuL2ZvbnRcIjtcclxuaW1wb3J0IHsgQm94Rm5zR2VuIH0gZnJvbSBcIi4vYm94XCI7XHJcbmltcG9ydCB7IGdiRm5zR2VuIH0gZnJvbSBcIi4vZ2JcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBtYWluID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgQ29yZSA9IGF3YWl0IGluaXQoY29uZmlnKTtcclxuICAgIGxldCBzY2VuZSA9IFwibWVudVwiO1xyXG4gICAgY29uc3QgRm9udCA9IGZvbnRGbnNHZW4oQ29yZS5jTGliLCBDb3JlLmlucHV0S2V5cyk7XHJcbiAgICB7XHJcbiAgICAgICAgbGV0IGN1cnNvciA9IDA7XHJcbiAgICAgICAgYXdhaXQgQ29yZS53aGlsZSgoKSA9PiAoc2NlbmUgPT09IFwibWVudVwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBDb3JlLmN0eC5jbGVhclJlY3QoMCwgMCwgQ29yZS5jYW52YXMud2lkdGgsIENvcmUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIGlmIChDb3JlLmlucHV0S2V5cy5mLnVwKSB7IGN1cnNvci0tOyBDb3JlLmFMaWIucGxheShcImN1cnNvcl9tb3ZlXCIpIH1cclxuICAgICAgICAgICAgaWYgKENvcmUuaW5wdXRLZXlzLmYuZG93bikgeyBjdXJzb3IrKzsgQ29yZS5hTGliLnBsYXkoXCJjdXJzb3JfbW92ZVwiKSB9XHJcbiAgICAgICAgICAgIENvcmUuY0xpYi5zdGFtcChcInNvdWxcIiwgMjIwLCAtY3Vyc29yICogNTAgKyAyNDApO1xyXG4gICAgICAgICAgICBjb25zdCB0bXAgPSBuZXcgRm9udC5QbGFuZShcIl9cIiwgXCJwbGF5XCIsIDI3MCwgMjUwLCAwLCAyMDAsIFwieWVsbG93XCIsIDAsIDAsIDAsIFwiZW5cIik7XHJcbiAgICAgICAgICAgIHRtcC53cml0ZSgpO1xyXG4gICAgICAgICAgICB0bXAuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgIGlmIChDb3JlLmlucHV0S2V5cy5mLnopIHsgc2NlbmUgPSBcImJhdHRsZVwiOyBDb3JlLmFMaWIucGxheShcImN1cnNvcl9jb25maXJtXCIpIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGxldCB0aW1lciA9IDA7XHJcblxyXG4gICAgY29uc3QgcGxheWVyID0ge1xyXG4gICAgICAgIGx2OiAxLFxyXG4gICAgICAgIGhwOiAyMCxcclxuICAgICAgICBocF9tYXg6IDIwLFxyXG4gICAgICAgIHNvdWw6IG5ldyBDb3JlLlNwcml0ZSgzMjAsIDI0MCwgMCwgODAsIFwic291bFwiLCB0cnVlKSxcclxuICAgICAgICBkYW1hZ2UoZDogbnVtYmVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaHAgLT0gZDtcclxuICAgICAgICAgICAgQ29yZS5hTGliLnBsYXkoXCJkYW1hZ2VcIiwgMik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhwIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIHNjZW5lID0gXCJnYW1lX292ZXJcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB7XHJcbiAgICAgICAgdGltZXIgPSAwO1xyXG4gICAgICAgIGNvbnN0IEJsYXN0ZXIgPSBnYkZuc0dlbihDb3JlLmNMaWIsIENvcmUuYUxpYiwgQ29yZS5TcHJpdGUsIHBsYXllcik7XHJcbiAgICAgICAgY29uc3QgQm9uZSA9IGJvbmVGbnNHZW4oQ29yZS5jTGliLCBDb3JlLmFMaWIsIENvcmUuU3ByaXRlLCBwbGF5ZXIpO1xyXG4gICAgICAgIGNvbnN0IEJveCA9IEJveEZuc0dlbihDb3JlLmNMaWIsIHBsYXllci5zb3VsKTtcclxuICAgICAgICBjb25zdCBib3ggPSBCb3guYm94O1xyXG4gICAgICAgIGNvbnN0IGhwX2JhciA9IGhwX2Jhcl9nZW4oQ29yZS5jTGliLCBGb250LlBsYW5lLCBwbGF5ZXIpO1xyXG4gICAgICAgIC8vY29uc3QgdGVzdCA9IG5ldyBGb250LlBsYW5lKFwidGVzdFwiLCBcIkhlbGxvLCB3b3JsZCFcIiwgNjAsIDE4MCwgMCwgNDAwLCBcIndoaXRlXCIsIDAsIDAsIDUsIFwiZW5cIik7XHJcbiAgICAgICAgLy9jb25zdCB0ZXN0X2IgPSBuZXcgQm9uZS5ub3JtYWwoMzAwLCAyMDAsIDkwLCAyMCwgMjUwLCAwLCAwLCAyLCAwLCBJbmZpbml0eSk7XHJcbiAgICAgICAgY29uc3QgdGVzdF9nYiA9IG5ldyBCbGFzdGVyLmdiKDEwMCwgMjAwLCAwLCA0MDAsIDYwMCwgOTAsIDEwMCwgMSwgNjAsIDYwLCA2MCk7XHJcbiAgICAgICAgYXdhaXQgQ29yZS53aGlsZSgoKSA9PiAoc2NlbmUgPT09IFwiYmF0dGxlXCIpLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRpbWVyKys7XHJcbiAgICAgICAgICAgIENvcmUuY3R4LmNsZWFyUmVjdCgwLCAwLCBDb3JlLmNhbnZhcy53aWR0aCwgQ29yZS5jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgaWYgKENvcmUuaW5wdXRLZXlzLnVwKSBwbGF5ZXIuc291bC55ICs9IDMuNTtcclxuICAgICAgICAgICAgaWYgKENvcmUuaW5wdXRLZXlzLmRvd24pIHBsYXllci5zb3VsLnkgLT0gMy41O1xyXG4gICAgICAgICAgICBpZiAoQ29yZS5pbnB1dEtleXMucmlnaHQpIHBsYXllci5zb3VsLnggKz0gMy41O1xyXG4gICAgICAgICAgICBpZiAoQ29yZS5pbnB1dEtleXMubGVmdCkgcGxheWVyLnNvdWwueCAtPSAzLjU7XHJcbiAgICAgICAgICAgIGlmICgwIDw9IHRpbWVyICYmIHRpbWVyIDwgMzAwICYmIHRpbWVyICUgMTAgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IHRpbWVyICogMlxyXG4gICAgICAgICAgICAgICAgY29uc3QgZiA9IDEwMDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZ4ID0gY29zMzYwKGQpICogZjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZ5ID0gLXNpbjM2MChkKSAqIGY7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnYiA9IG5ldyBCbGFzdGVyLmdiKDMyMCArIGZ4LCAyNDAgKyBmeSwgZCs5MCwgMzIwICsgZnggKiAxMCwgMjQwICsgZnkgKiAxMCwgZCwgMTAwLCAxLCA2MCwgNjAsIDIwKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2JveC5qdWRnZSgpO1xyXG4gICAgICAgICAgICAvL2JveC51cGRhdGUoKTtcclxuICAgICAgICAgICAgQm9uZS5wcm9jZXNzKCk7XHJcbiAgICAgICAgICAgIC8vYm94LmRyYXcoKTtcclxuICAgICAgICAgICAgQmxhc3Rlci5wcm9jZXNzKCk7XHJcbiAgICAgICAgICAgIEZvbnQucHJvY2VzcygpO1xyXG4gICAgICAgICAgICAvL3Rlc3Qud3JpdGUoKTtcclxuICAgICAgICAgICAgaHBfYmFyKCk7XHJcbiAgICAgICAgICAgIHBsYXllci5zb3VsLnN0YW1wKCk7XHJcbiAgICAgICAgICAgIENvcmUuY0xpYi5zdGFtcChcImJhY2tcIiwgMzIwLCAyNDAsIDAsIDEwMCwgMC4yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHtcclxuICAgICAgICB0aW1lciA9IDA7XHJcbiAgICAgICAgbGV0IGJyb2tlbl9oZWFydHM6IFNwcml0ZVRbXSA9IFtdO1xyXG4gICAgICAgIGF3YWl0IENvcmUud2hpbGUoKCkgPT4gKHNjZW5lID09PSBcImdhbWVfb3ZlclwiKSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBDb3JlLmN0eC5jbGVhclJlY3QoMCwgMCwgQ29yZS5jYW52YXMud2lkdGgsIENvcmUuY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIGlmICh0aW1lciA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBDb3JlLmFMaWIucGxheShcImhlYXJ0YnJlYWtfMVwiLCAyKVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbWVyIDwgNjApIHtcclxuICAgICAgICAgICAgICAgIENvcmUuY0xpYi5zdGFtcChcImRlYXRoXzBcIiwgcGxheWVyLnNvdWwueCwgcGxheWVyLnNvdWwueSwgMCwgODApXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGltZXIgPT0gNjApIHtcclxuICAgICAgICAgICAgICAgIENvcmUuYUxpYi5wbGF5KFwiaGVhcnRicmVha18yXCIsIDIpXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB4cyA9IE1hdGgucmFuZG9tKCkgKiAxMiAtIDY7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHlzID0gTWF0aC5yYW5kb20oKSAqIDggKyA0O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyb2tlbl9oZWFydHMucHVzaChuZXcgQ29yZS5TcHJpdGUocGxheWVyLnNvdWwueCwgcGxheWVyLnNvdWwueSwgTWF0aC5yYW5kb20oKSAqIDM2MCwgODAsIGBkZWF0aF8ke2kgKyAxfWAsIHRydWUsIChzZWxmKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYueCArPSB4cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi55ICs9IHlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmQgKz0geHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHlzIC09IDAuMzMzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKDYwIDwgdGltZXIgJiYgdGltZXIgPCAxODApIHtcclxuICAgICAgICAgICAgICAgIGJyb2tlbl9oZWFydHMuZm9yRWFjaChzID0+IHMuYWN0KCkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRpbWVyID09IDE4MCkge1xyXG4gICAgICAgICAgICAgICAgc2NlbmUgPSBcIndhaXRpbmdcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aW1lcisrO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBocF9iYXJfZ2VuID0gKGNMaWI6IGNMaWJULCBGb250OiBGb250UGxhbmVULCBwbGF5ZXI6IHsgaHA6IG51bWJlciwgaHBfbWF4OiBudW1iZXIsIGx2OiBudW1iZXIgfSkgPT4gKCkgPT4ge1xyXG4gICAgY29uc3QgdG1wMSA9IG5ldyBGb250KFwiX1wiLCBcImNoYXJhXCIsIDMyLCA3NSwgMCwgMzAwLCBcIndoaXRlXCIsIDAsIDAsIDAsIFwic3RhdHVzXCIpO1xyXG4gICAgdG1wMS53cml0ZSgpO1xyXG4gICAgdG1wMS5kZWxldGUoKTtcclxuICAgIGNvbnN0IHRtcDIgPSBuZXcgRm9udChcIl9cIiwgXCJsVlwiLCAxMzQsIDc1LCAwLCAzMDAsIFwid2hpdGVcIiwgMCwgMCwgMCwgXCJzdGF0dXNcIik7XHJcbiAgICB0bXAyLndyaXRlKCk7XHJcbiAgICB0bXAyLmRlbGV0ZSgpO1xyXG4gICAgY29uc3QgdG1wMyA9IG5ldyBGb250KFwiX1wiLCBgJHsoJzAwJyArIHBsYXllci5sdikuc2xpY2UoLTIpfWAsIDE3MywgNzUsIDAsIDMwMCwgXCJ3aGl0ZVwiLCAwLCAwLCAwLCBcInN0YXR1c1wiKTtcclxuICAgIHRtcDMud3JpdGUoKTtcclxuICAgIHRtcDMuZGVsZXRlKCk7XHJcbiAgICBjb25zdCB0bXA0ID0gbmV3IEZvbnQoXCJfXCIsIGAkeygnMDAnICsgcGxheWVyLmhwKS5zbGljZSgtMil9YCwgcGxheWVyLmhwX21heCAqIDEuMiArIDMwNiwgNzcsIDAsIDMwMCwgXCJ3aGl0ZVwiLCAwLCAwLCAwLCBcInN0YXR1c1wiKTtcclxuICAgIHRtcDQud3JpdGUoKTtcclxuICAgIHRtcDQuZGVsZXRlKCk7XHJcbiAgICBjb25zdCB0bXA1ID0gbmV3IEZvbnQoXCJfXCIsIFwiL1wiLCBwbGF5ZXIuaHBfbWF4ICogMS4yICsgMzQ1LCA3NywgMCwgMzAwLCBcIndoaXRlXCIsIDAsIDAsIDAsIFwic3RhdHVzXCIpO1xyXG4gICAgdG1wNS53cml0ZSgpO1xyXG4gICAgdG1wNS5kZWxldGUoKTtcclxuICAgIGNvbnN0IHRtcDYgPSBuZXcgRm9udChcIl9cIiwgYCR7KCcwMCcgKyBwbGF5ZXIuaHBfbWF4KS5zbGljZSgtMil9YCwgcGxheWVyLmhwX21heCAqIDEuMiArIDM2OSwgNzcsIDAsIDMwMCwgXCJ3aGl0ZVwiLCAwLCAwLCAwLCBcInN0YXR1c1wiKTtcclxuICAgIHRtcDYud3JpdGUoKTtcclxuICAgIHRtcDYuZGVsZXRlKCk7XHJcbiAgICBjTGliLmRyYXdSZWN0KDI1NiwgNTksIHBsYXllci5ocF9tYXggKiAxLjIsIDIxLCBcInJlZFwiLCAwLCAxLCBcInN0YXJ0XCIpO1xyXG4gICAgY0xpYi5kcmF3UmVjdCgyNTYsIDU5LCBwbGF5ZXIuaHAgKiAxLjIsIDIxLCBcInllbGxvd1wiLCAwLCAxLCBcInN0YXJ0XCIpO1xyXG4gICAgY0xpYi5zdGFtcChcImhwX3doaXRlXCIsIDIyNCwgNzQsIDAsIDEwMCwgMSwgXCJzdGFydFwiKTtcclxuICAgIGNMaWIuc3RhbXAoXCJrcl93aGl0ZVwiLCBwbGF5ZXIuaHBfbWF4ICogMS4yICsgMjY3LCA3NCwgMCwgMTAwLCAxLCBcInN0YXJ0XCIpO1xyXG59OyIsImltcG9ydCB7IG1haW4gYXMgZ2FtZSB9IGZyb20gXCIuL2dhbWVcIjtcclxud2luZG93Lm9ubG9hZCA9IGdhbWU7Il0sIm5hbWVzIjpbImZyYW1lTGliR2VuIiwiYl90aWNrIiwiYV90aWNrIiwiZlciLCJjb25kaXRpb24iLCJwcm9jIiwicmVzb2x2ZSIsImZyYW1lV2hpbGUiLCJmRiIsImkiLCJmcmFtZUZvciIsImZyYW1lTG9vcCIsImxvYWRBc3NldHMiLCJhdWRpb0NvbnRleHQiLCJJbWFnZXMiLCJBdWRpb3MiLCJGb250cyIsImluZGV4IiwianNvbiIsInByb21pc2VzIiwiZSIsImltYWdlIiwiYXVkaW8iLCJhdWRpb0RhdGEiLCJtYXRjaFVybHMiLCJwcm9taXNlc19zdWIiLCJmIiwiZm9udCIsInNpbjM2MCIsImQiLCJjb3MzNjAiLCJDYW52YXNMaWJHZW4iLCJjYW52YXMiLCJjdHgiLCJjb25maWciLCJwcm9wcyIsInN0YW1wIiwibmFtZSIsImR4IiwiZHkiLCJkZCIsInNpemUiLCJhbHBoYSIsImFsaWduIiwiYm94IiwiYWJzb2x1dGUiLCJjb3N0dW1lIiwic3giLCJzeSIsInN3Iiwic2giLCJ4IiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY29sb3IiLCJkaXJlY3Rpb24iLCJ0eXBlIiwibHgiLCJseSIsImxlbiIsInR4IiwiU3ByaXRlTGliR2VuIiwiY0xpYiIsIlNwcml0ZSIsInZpc2libGUiLCJhY3QiLCJmYXIiLCJQb3NpdGlvbkxpYkdlbiIsInJ4IiwicnkiLCJyZCIsInJlY3QiLCJBdWRpb0xpYkdlbiIsImRlbGF5IiwiZ2FpbiIsImdhaW5Ob2RlIiwic291cmNlIiwibiIsImluaXQiLCJpbnB1dEtleXMiLCJpbnB1dE1vdXNlIiwidyIsImgiLCJhTGliIiwicExpYiIsInAiLCJiayIsImJvbmVGbnNHZW4iLCJwbGF5ZXIiLCJib25lRGljdCIsIl9ub3JtYWxCb25lIiwibXgiLCJteSIsIm1kIiwibWwiLCJsaWZlIiwicmVsYXRpdmVfeCIsInJlbGF0aXZlX3kiLCJ0dXJuZWRfeCIsInR1cm5lZF95IiwiaWQiLCJib25lIiwibW92ZSIsImFnZSIsIm5vcm1hbEJvbmUiLCJmb250Rm5zR2VuIiwiZm9udERhdGEiLCJmb250RGF0YUVuIiwiZm9udERhdGFTdGF0dXMiLCJkaXNwbGF5RGljdCIsIkZvbnQiLCJTdXBlciIsImlucHV0IiwiYSIsImMiLCJpbnB1dF9zdHJfbGVuZ3RoIiwiY291bnQiLCJjaGFyRGF0YWYiLCJjaGFyRGF0YSIsIlBsYW5lIiwic3RyIiwic3BhY2luZ194Iiwic3BhY2luZ195Iiwic3BlZWQiLCJjaGFycyIsIkJveEZuc0dlbiIsInNvdWwiLCJXYWxsIiwicmVsYXRpdmUiLCJyZXR1cm5lZF94IiwicmV0dXJuZWRfeSIsIldhbGwyIiwid3giLCJ3eSIsIndhbGwiLCJnYkZuc0dlbiIsImdiRGljdCIsIl9CbGFzdGVyIiwidHkiLCJ0ZCIsImZ4IiwiZnkiLCJmZCIsImN0IiwiYnMiLCJiZCIsInJhdGlvIiwiZ2IiLCJCbGFzdGVyIiwibWFpbiIsIkNvcmUiLCJzY2VuZSIsImN1cnNvciIsInRtcCIsInRpbWVyIiwiQm9uZSIsImhwX2JhciIsImhwX2Jhcl9nZW4iLCJicm9rZW5faGVhcnRzIiwieHMiLCJ5cyIsInNlbGYiLCJzIiwidG1wMSIsInRtcDIiLCJ0bXAzIiwidG1wNCIsInRtcDUiLCJ0bXA2IiwiZ2FtZSJdLCJtYXBwaW5ncyI6IkFBR2EsTUFBQUEsRUFBYyxDQUFDQyxFQUFnQkMsSUFBb0IsQ0FDNUQsTUFBTUMsRUFBSyxDQUFDQyxFQUEwQkMsRUFBa0JDLElBQXdCLENBQ3hFRixLQUFzQkgsSUFBUUksSUFBVUgsSUFBRyxzQkFBc0IsSUFBTUMsRUFBR0MsRUFBV0MsRUFBTUMsQ0FBTyxDQUFDLEdBQWtCQSxHQUFD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
